"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

// src/index.ts
var src_exports = {};
__export(src_exports, {
  AF_NIGHTCORE_RATE: () => AF_NIGHTCORE_RATE,
  AF_VAPORWAVE_RATE: () => AF_VAPORWAVE_RATE,
  AudioFilter: () => AudioFilter,
  AudioFilters: () => AudioFilters,
  BASS_EQ_BANDS: () => BASS_EQ_BANDS,
  BiquadFilter: () => BiquadFilter,
  BiquadStream: () => BiquadStream,
  ChannelProcessor: () => ChannelProcessor,
  Coefficients: () => Coefficients,
  Equalizer: () => Equalizer,
  EqualizerCoefficients: () => EqualizerCoefficients,
  EqualizerConfiguration: () => EqualizerConfiguration,
  EqualizerStream: () => EqualizerStream,
  FilterType: () => FilterType,
  FiltersChain: () => FiltersChain,
  Frequency: () => Frequency,
  MonoStereoTransformer: () => MonoStereoTransformer,
  PCMAudioTransformer: () => transformers_exports,
  PCMResampler: () => PCMResampler,
  PCMTransformer: () => PCMTransformer,
  Q_BUTTERWORTH: () => Q_BUTTERWORTH,
  VolumeTransformer: () => VolumeTransformer,
  version: () => version
});
module.exports = __toCommonJS(src_exports);

// src/biquad/Coefficients.ts
var FilterType = {
  SinglePoleLowPassApprox: 0,
  SinglePoleLowPass: 1,
  LowPass: 2,
  HighPass: 3,
  BandPass: 4,
  Notch: 5,
  AllPass: 6,
  LowShelf: 7,
  HighShelf: 8,
  PeakingEQ: 9
};
var Q_BUTTERWORTH = Math.SQRT1_2;
var _Coefficients = class _Coefficients {
  constructor(data) {
    // Denominator coefficients
    __publicField(this, "a1", 0);
    __publicField(this, "a2", 0);
    // Nominator coefficients
    __publicField(this, "b0", 0);
    __publicField(this, "b1", 0);
    __publicField(this, "b2", 0);
    if (data) {
      this.a1 = data.a1;
      this.a2 = data.a2;
      this.b0 = data.b0;
      this.b1 = data.b1;
      this.b2 = data.b2;
    }
  }
  static from(filter, samplingFreq, cutoffFreq, Q, dbGain = -10) {
    if (2 * cutoffFreq > samplingFreq) {
      throw new Error(`Cutoff frequency is too big!`);
    }
    if (Q < 0) {
      throw new Error(`Q may not be negative`);
    }
    const omega = 2 * Math.PI * cutoffFreq / samplingFreq;
    const bqf = typeof filter === "string" ? FilterType[filter] : filter;
    switch (bqf) {
      case FilterType.SinglePoleLowPassApprox: {
        const alpha = omega / (omega + 1);
        return new _Coefficients({
          a1: alpha - 1,
          a2: 0,
          b0: alpha,
          b1: 0,
          b2: 0
        });
      }
      case FilterType.SinglePoleLowPass: {
        const omega_t = Math.tan(omega / 2);
        const a0 = 1 + omega_t;
        return new _Coefficients({
          a1: (omega_t - 1) / a0,
          a2: 0,
          b0: omega_t / a0,
          b1: omega_t / a0,
          b2: 0
        });
      }
      case FilterType.LowPass: {
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = (1 - omega_c) * 0.5;
        const b1 = 1 - omega_c;
        const b2 = (1 - omega_c) * 0.5;
        const a0 = 1 + alpha;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha;
        const div = 1 / a0;
        return new _Coefficients({
          a1: a1 * div,
          a2: a2 * div,
          b0: b0 * div,
          b1: b1 * div,
          b2: b2 * div
        });
      }
      case FilterType.HighPass: {
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = (1 + omega_c) * 0.5;
        const b1 = -(1 + omega_c);
        const b2 = (1 + omega_c) * 0.5;
        const a0 = 1 + alpha;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha;
        const div = 1 / a0;
        return new _Coefficients({
          a1: a1 * div,
          a2: a2 * div,
          b0: b0 * div,
          b1: b1 * div,
          b2: b2 * div
        });
      }
      case FilterType.Notch: {
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = 1;
        const b1 = -2 * omega_c;
        const b2 = 1;
        const a0 = 1 + alpha;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha;
        const div = 1 / a0;
        return new _Coefficients({
          a1: a1 * div,
          a2: a2 * div,
          b0: b0 * div,
          b1: b1 * div,
          b2: b2 * div
        });
      }
      case FilterType.BandPass: {
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = omega_s / 2;
        const b1 = 0;
        const b2 = -(omega_s / 2);
        const a0 = 1 + alpha;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha;
        const div = 1 / a0;
        return new _Coefficients({
          a1: a1 * div,
          a2: a2 * div,
          b0: b0 * div,
          b1: b1 * div,
          b2: b2 * div
        });
      }
      case FilterType.AllPass: {
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = 1 - alpha;
        const b1 = -2 * omega_c;
        const b2 = 1 + alpha;
        const a0 = 1 + alpha;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha;
        return new _Coefficients({
          a1: a1 / a0,
          a2: a2 / a0,
          b0: b0 / a0,
          b1: b1 / a0,
          b2: b2 / a0
        });
      }
      case FilterType.LowShelf: {
        const a = Math.pow(10, dbGain / 40);
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = a * (a + 1 - (a - 1) * omega_c + 2 * alpha * Math.sqrt(a));
        const b1 = 2 * a * (a - 1 - (a + 1) * omega_c);
        const b2 = a * (a + 1 - (a - 1) * omega_c - 2 * alpha * Math.sqrt(a));
        const a0 = a + 1 + (a - 1) * omega_c + 2 * alpha * Math.sqrt(a);
        const a1 = -2 * (a - 1 + (a + 1) * omega_c);
        const a2 = a + 1 + (a - 1) * omega_c - 2 * alpha * Math.sqrt(a);
        return new _Coefficients({
          a1: a1 / a0,
          a2: a2 / a0,
          b0: b0 / a0,
          b1: b1 / a0,
          b2: b2 / a0
        });
      }
      case FilterType.HighShelf: {
        const a = Math.pow(10, dbGain / 40);
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = a * (a + 1 + (a - 1) * omega_c + 2 * alpha * Math.sqrt(a));
        const b1 = -2 * a * (a - 1 + (a + 1) * omega_c);
        const b2 = a * (a + 1 + (a - 1) * omega_c - 2 * alpha * Math.sqrt(a));
        const a0 = a + 1 - (a - 1) * omega_c + 2 * alpha * Math.sqrt(a);
        const a1 = 2 * (a - 1 - (a + 1) * omega_c);
        const a2 = a + 1 - (a - 1) * omega_c - 2 * alpha * Math.sqrt(a);
        return new _Coefficients({
          a1: a1 / a0,
          a2: a2 / a0,
          b0: b0 / a0,
          b1: b1 / a0,
          b2: b2 / a0
        });
      }
      case FilterType.PeakingEQ: {
        const a = Math.pow(10, dbGain / 40);
        const omega_s = Math.sin(omega);
        const omega_c = Math.cos(omega);
        const alpha = omega_s / (2 * Q);
        const b0 = 1 + alpha * a;
        const b1 = -2 * omega_c;
        const b2 = 1 - alpha * a;
        const a0 = 1 + alpha / a;
        const a1 = -2 * omega_c;
        const a2 = 1 - alpha / a;
        return new _Coefficients({
          a1: a1 / a0,
          a2: a2 / a0,
          b0: b0 / a0,
          b1: b1 / a0,
          b2: b2 / a0
        });
      }
      default:
        throw new TypeError(`Invalid filter type "${filter}"`);
    }
  }
};
__name(_Coefficients, "Coefficients");
var Coefficients = _Coefficients;

// src/biquad/Biquad.ts
var _BiquadFilter = class _BiquadFilter {
  constructor(coefficients) {
    this.coefficients = coefficients;
    __publicField(this, "x1", 0);
    __publicField(this, "x2", 0);
    __publicField(this, "y1", 0);
    __publicField(this, "y2", 0);
    __publicField(this, "s1", 0);
    __publicField(this, "s2", 0);
  }
  setFilter(filter, options) {
    const coefficients = Coefficients.from(
      filter,
      options.fs,
      options.f0,
      options.Q,
      options.gain
    );
    this.update(coefficients);
  }
  update(coefficients) {
    this.coefficients = coefficients;
  }
  replace(coefficients) {
    this.coefficients = coefficients;
  }
  reset() {
    this.x1 = 0;
    this.x2 = 0;
    this.y1 = 0;
    this.y2 = 0;
    this.s1 = 0;
    this.s2 = 0;
  }
  run(input) {
    const { a1, a2, b0, b1, b2 } = this.coefficients;
    const out = b0 * input + b1 * this.x1 + b2 * this.x2 - a1 * this.y1 - a2 * this.y2;
    this.x2 = this.x1;
    this.x1 = input;
    this.y2 = this.y1;
    this.y1 = out;
    return out;
  }
  runTransposed(input) {
    const { a1, a2, b0, b1, b2 } = this.coefficients;
    const out = this.s1 + b0 * input;
    this.s1 = this.s2 + b1 * input - a1 * out;
    this.s2 = b2 * input - a2 * out;
    return out;
  }
};
__name(_BiquadFilter, "BiquadFilter");
var BiquadFilter = _BiquadFilter;

// src/utils/Frequency.ts
var _Frequency = class _Frequency {
  constructor(__val) {
    this.__val = __val;
    if (typeof __val !== "number" || isNaN(__val) || __val === Infinity)
      throw new TypeError("Frequency value must be a number");
    if (this.__val < 0)
      throw new Error(`Frequency value cannot be negative (${__val})`);
  }
  khz() {
    return this.__val * 1e3;
  }
  mhz() {
    return this.__val * 1e6;
  }
  hz() {
    return this.__val;
  }
  dt() {
    return 1 / this.__val;
  }
  valueOf() {
    return this.__val;
  }
  toString() {
    return `${this.__val}Hz`;
  }
  toJSON() {
    return this.toString();
  }
};
__name(_Frequency, "Frequency");
var Frequency = _Frequency;

// src/utils/PCMTransformer.ts
var import_stream = require("stream");
var _PCMTransformer = class _PCMTransformer extends import_stream.Transform {
  constructor(options = {}) {
    super(options);
    __publicField(this, "type", "s16le");
    __publicField(this, "bits");
    __publicField(this, "bytes");
    __publicField(this, "extremum");
    __publicField(this, "disabled", false);
    __publicField(this, "sampleRate", 48e3);
    __publicField(this, "onUpdate", /* @__PURE__ */ __name(() => {
    }, "onUpdate"));
    options.type ?? (options.type = "s16le");
    this.disabled = !!options.disabled;
    if (typeof options.sampleRate === "number" && options.sampleRate > 0) {
      this.sampleRate = options.sampleRate;
    }
    switch (options.type) {
      case "s16be":
      case "s16le":
        this.type = options.type;
        this.bits = 16;
        break;
      case "s32be":
      case "s32le":
        this.type = options.type;
        this.bits = 32;
        break;
      default:
        throw new TypeError(
          `Expected type to be one of ${["s16be", "s16le", "s32be", "s32le"].join(", ")}, got "${options.type}"`
        );
    }
    this.bytes = this.bits / 8;
    this.extremum = Math.pow(2, this.bits - 1);
  }
  disable() {
    this.disabled = true;
  }
  enable() {
    this.disabled = false;
  }
  toggle() {
    this.disabled = !this.disabled;
  }
  _readInt(buffer, index) {
    const method = `readInt${this.type.substring(1).toUpperCase()}`;
    return buffer[method](index);
  }
  _writeInt(buffer, int, index) {
    const method = `writeInt${this.type.substring(1).toUpperCase()}`;
    return buffer[method](int, index);
  }
  clamp(val, max = this.extremum - 1, min = -this.extremum) {
    return Math.min(max, Math.max(min, val));
  }
  setSampleRate(rate) {
    this.sampleRate = rate;
    return;
  }
};
__name(_PCMTransformer, "PCMTransformer");
var PCMTransformer = _PCMTransformer;

// src/biquad/BiquadStream.ts
var _BiquadStream = class _BiquadStream extends PCMTransformer {
  constructor(options = {}) {
    super(options);
    __publicField(this, "biquad");
    __publicField(this, "cutoff", 80);
    __publicField(this, "gain", 0);
    __publicField(this, "biquadFilter");
    __publicField(this, "Q", Q_BUTTERWORTH);
    if ("cutoff" in options) this.cutoff = options.cutoff;
    if ("gain" in options) this.gain = options.gain;
    if ("Q" in options) this.Q = options.Q;
    if ("biquadFilter" in options) {
      if (typeof options.biquadFilter === "string" || typeof options.biquadFilter === "number")
        this.biquadFilter = options.filter;
      if (this.biquadFilter != null) {
        this.biquad = new BiquadFilter(
          Coefficients.from(
            this.biquadFilter,
            this.sampleRate,
            this.cutoff,
            this.Q,
            this.gain
          )
        );
      }
    }
  }
  get filters() {
    return this.biquadFilter;
  }
  set filters(f) {
    if (f == null || typeof f === "string" || typeof f === "number") {
      this.update({ filter: f });
    } else {
      throw new TypeError(`Invalid biquad filter type "${f}"`);
    }
  }
  getFilterName() {
    if (this.biquadFilter == null) return null;
    if (typeof this.biquadFilter === "string") return this.biquadFilter;
    return Object.entries(FilterType).find(
      (r) => r[1] === this.biquadFilter
    )?.[0];
  }
  update(options) {
    if ("cutoff" in options) this.cutoff = options.cutoff;
    if ("gain" in options) this.gain = options.gain;
    if ("Q" in options) this.Q = options.Q;
    if ("filter" in options) this.biquadFilter = options.filter;
    if (this.biquadFilter != null) {
      this.biquad = new BiquadFilter(
        Coefficients.from(
          this.biquadFilter,
          this.sampleRate,
          this.cutoff,
          this.Q,
          this.gain
        )
      );
    }
    this.onUpdate?.();
  }
  setFilter(filter) {
    this.update({ filter });
  }
  setQ(Q) {
    this.update({ Q });
  }
  setCutoff(f0) {
    this.update({ cutoff: f0 });
  }
  setGain(dB) {
    this.update({ gain: dB });
  }
  _transform(chunk, encoding, callback) {
    if (this.disabled || !this.biquad) {
      this.push(chunk);
      return callback();
    }
    const endIndex = Math.floor(chunk.length / 2) * 2;
    const { bytes } = this;
    for (let sampleIndex = 0; sampleIndex < endIndex; sampleIndex += bytes) {
      const int = this._readInt(chunk, sampleIndex);
      const result = this.biquad.run(int);
      this._writeInt(chunk, this.clamp(result), sampleIndex);
    }
    this.push(chunk);
    return callback();
  }
};
__name(_BiquadStream, "BiquadStream");
var BiquadStream = _BiquadStream;

// src/equalizer/ChannelProcessor.ts
var _ChannelProcessor = class _ChannelProcessor {
  constructor(bandMultipliers) {
    __publicField(this, "history");
    __publicField(this, "bandMultipliers");
    __publicField(this, "current");
    __publicField(this, "m1");
    __publicField(this, "m2");
    this.history = new Array(Equalizer.BAND_COUNT * 6).fill(0);
    this.bandMultipliers = bandMultipliers;
    this.current = 0;
    this.m1 = 2;
    this.m2 = 1;
  }
  processInt(int) {
    let result = int * 0.25;
    for (let bandIndex = 0; bandIndex < Equalizer.BAND_COUNT; bandIndex++) {
      const x = bandIndex * 6;
      const y = x + 3;
      const coefficients = Equalizer.Coefficients48000[bandIndex];
      const bandResult = coefficients.alpha * (int - this.history[x + this.m2]) + coefficients.gamma * this.history[y + this.m1] - coefficients.beta * this.history[y + this.m2];
      this.history[x + this.current] = int;
      this.history[y + this.current] = bandResult;
      result += bandResult * this.bandMultipliers[bandIndex];
    }
    const val = result * 4;
    return val;
  }
  process(samples, extremum = 131072, bytes = 2, readInt, writeInt) {
    const endIndex = Math.floor(samples.length / 2) * 2;
    for (let sampleIndex = 0; sampleIndex < endIndex; sampleIndex += bytes) {
      const sample = readInt?.(samples, sampleIndex) ?? samples.readInt16LE(sampleIndex);
      const result = this.processInt(sample);
      const val = Math.min(extremum - 1, Math.max(-extremum, result));
      writeInt?.(samples, val, sampleIndex) ?? samples.writeInt16LE(val, sampleIndex);
      this.step();
    }
    return samples;
  }
  step() {
    if (++this.current === 3) {
      this.current = 0;
    }
    if (++this.m1 === 3) {
      this.m1 = 0;
    }
    if (++this.m2 === 3) {
      this.m2 = 0;
    }
  }
  reset() {
    this.history.fill(0);
  }
};
__name(_ChannelProcessor, "ChannelProcessor");
var ChannelProcessor = _ChannelProcessor;

// src/equalizer/Coefficients.ts
var _EqualizerCoefficients = class _EqualizerCoefficients {
  constructor(beta, alpha, gamma) {
    this.beta = beta;
    this.alpha = alpha;
    this.gamma = gamma;
  }
  setBeta(v) {
    this.beta = v;
  }
  setAlpha(v) {
    this.alpha = v;
  }
  setGamma(v) {
    this.gamma = v;
  }
  toJSON() {
    const { alpha, beta, gamma } = this;
    return { alpha, beta, gamma };
  }
};
__name(_EqualizerCoefficients, "EqualizerCoefficients");
var EqualizerCoefficients = _EqualizerCoefficients;

// src/equalizer/EqualizerConfiguration.ts
var _EqualizerConfiguration = class _EqualizerConfiguration {
  constructor(bandMultipliers) {
    this.bandMultipliers = bandMultipliers;
  }
  setGain(band, value) {
    if (this.isValidBand(band)) {
      this.bandMultipliers[band] = Math.max(Math.min(value, 1), -0.25);
    }
  }
  getGain(band) {
    if (this.isValidBand(band)) {
      return this.bandMultipliers[band];
    } else {
      return 0;
    }
  }
  isValidBand(band) {
    return band >= 0 && band < this.bandMultipliers.length;
  }
};
__name(_EqualizerConfiguration, "EqualizerConfiguration");
var EqualizerConfiguration = _EqualizerConfiguration;

// src/equalizer/Equalizer.ts
var _Equalizer = class _Equalizer extends EqualizerConfiguration {
  constructor(channelCount, bandMultipliers) {
    super(bandMultipliers);
    __publicField(this, "channels", []);
    __publicField(this, "channelCount");
    this.channelCount = channelCount;
    this.channels = this.createChannelProcessor();
  }
  createChannelProcessor() {
    return Array.from({ length: this.channelCount }, () => {
      return new ChannelProcessor(this.bandMultipliers);
    });
  }
  process(input) {
    return this.channels.map((c, i) => {
      const { data, extremum, readInt, writeInt, bytes } = input[i];
      return c.process(data, extremum, bytes, readInt, writeInt);
    });
  }
};
__name(_Equalizer, "Equalizer");
__publicField(_Equalizer, "BAND_COUNT", 15);
__publicField(_Equalizer, "SAMPLE_RATE", 48e3);
__publicField(_Equalizer, "Coefficients48000", [
  new EqualizerCoefficients(0.99847546664, 76226668143e-14, 1.9984647656),
  new EqualizerCoefficients(0.99756184654, 0.0012190767289, 1.9975344645),
  new EqualizerCoefficients(0.99616261379, 0.0019186931041, 1.9960947369),
  new EqualizerCoefficients(0.99391578543, 0.0030421072865, 1.9937449618),
  new EqualizerCoefficients(0.99028307215, 0.0048584639242, 1.9898465702),
  new EqualizerCoefficients(0.98485897264, 0.0075705136795, 1.9837962543),
  new EqualizerCoefficients(0.97588512657, 0.012057436715, 1.9731772447),
  new EqualizerCoefficients(0.96228521814, 0.018857390928, 1.9556164694),
  new EqualizerCoefficients(0.94080933132, 0.029595334338, 1.9242054384),
  new EqualizerCoefficients(0.90702059196, 0.046489704022, 1.8653476166),
  new EqualizerCoefficients(0.85868004289, 0.070659978553, 1.7600401337),
  new EqualizerCoefficients(0.78409610788, 0.10795194606, 1.5450725522),
  new EqualizerCoefficients(0.68332861002, 0.15833569499, 1.1426447155),
  new EqualizerCoefficients(
    0.55267518228,
    0.22366240886,
    0.40186190803
  ),
  new EqualizerCoefficients(
    0.41811888447,
    0.29094055777,
    -0.70905944223
  )
]);
var Equalizer = _Equalizer;

// src/equalizer/EqualizerStream.ts
var _EqualizerStream = class _EqualizerStream extends PCMTransformer {
  constructor(options) {
    super(options);
    __publicField(this, "bandMultipliers", new Array(Equalizer.BAND_COUNT).fill(0));
    __publicField(this, "equalizer");
    options = Object.assign(
      {},
      {
        bandMultiplier: [],
        channels: 1
      },
      options || {}
    );
    this.equalizer = new Equalizer(options.channels || 1, this.bandMultipliers);
    if (Array.isArray(options.bandMultiplier))
      this._processBands(options.bandMultiplier);
  }
  _processBands(multiplier) {
    for (const mul of multiplier) {
      if (mul.band > Equalizer.BAND_COUNT - 1 || mul.band < 0)
        throw new RangeError(
          `Band value out of range. Expected >0 & <${Equalizer.BAND_COUNT - 1}, received "${mul.band}"`
        );
      this.equalizer.setGain(mul.band, mul.gain);
    }
    this.onUpdate?.();
  }
  _transform(chunk, encoding, callback) {
    if (this.disabled) {
      this.push(chunk);
      return callback();
    }
    this.equalizer.process(
      [
        {
          data: chunk,
          extremum: this.extremum,
          readInt: /* @__PURE__ */ __name((b, idx) => this._readInt(b, idx), "readInt"),
          writeInt: /* @__PURE__ */ __name((b, i, idx) => this._writeInt(b, i, idx), "writeInt"),
          bytes: this.bytes
        }
      ]
    );
    this.push(chunk);
    return callback();
  }
  getEQ() {
    return this.bandMultipliers.map((m, i) => ({
      band: i,
      gain: m
    }));
  }
  setEQ(bands) {
    this._processBands(bands);
  }
  resetEQ() {
    this._processBands(
      Array.from(
        {
          length: Equalizer.BAND_COUNT
        },
        (_, i) => ({
          band: i,
          gain: 0
        })
      )
    );
  }
};
__name(_EqualizerStream, "EqualizerStream");
var EqualizerStream = _EqualizerStream;

// src/audio/MonoStereoTransformer.ts
var _MonoStereoTransformer = class _MonoStereoTransformer extends PCMTransformer {
  constructor(options) {
    super(options);
    __publicField(this, "strategy");
    if (!["m2s", "s2m"].includes(options?.strategy)) {
      throw new TypeError(`Strategy must be "m2s" or "s2m"`);
    }
    this.strategy = options.strategy;
  }
  setStrategy(strategy) {
    this.strategy = strategy;
  }
  _transform(chunk, encoding, callback) {
    if (this.disabled) {
      this.push(chunk);
      return callback();
    }
    const len = Math.floor(chunk.length / 2) * 2;
    if (this.strategy === "m2s") {
      this.push(this.toStereo(chunk, len));
    } else {
      this.push(this.toMono(chunk, len));
    }
    return callback();
  }
  toStereo(sample, len) {
    const bytes = this.bytes;
    const stereoBuffer = Buffer.alloc(len * 2);
    for (let i = 0; i < len; i += bytes) {
      stereoBuffer[i * 2 + 0] = sample[i];
      stereoBuffer[i * 2 + 1] = sample[i + 1];
      stereoBuffer[i * 2 + 2] = sample[i];
      stereoBuffer[i * 2 + 3] = sample[i + 1];
    }
    return stereoBuffer;
  }
  toMono(sample, len) {
    const bytes = this.bytes;
    const monoBuffer = Buffer.alloc(Math.floor(len / 2));
    for (let i = 0; i < len; i += bytes) {
      monoBuffer[i] = sample[i * 2 + 0];
      monoBuffer[i + 1] = sample[i * 2 + 1];
    }
    return monoBuffer;
  }
};
__name(_MonoStereoTransformer, "MonoStereoTransformer");
var MonoStereoTransformer = _MonoStereoTransformer;

// src/audio/transformers/index.ts
var transformers_exports = {};
__export(transformers_exports, {
  applyBiquad: () => applyBiquad,
  applyEqualization: () => applyEqualization,
  applyPulsator: () => applyPulsator,
  applyTremolo: () => applyTremolo,
  applyVibrato: () => applyVibrato,
  applyVolume: () => applyVolume
});

// src/audio/transformers/biquad.ts
function applyBiquad(filterer, int) {
  return filterer.run(int);
}
__name(applyBiquad, "applyBiquad");

// src/audio/transformers/dsp.ts
function applyPulsator(config, int, channel) {
  const sin = Math.sin(config.x);
  const currentChannelVal = channel === 0 ? sin : -sin;
  const res = int * (currentChannelVal + 1) / 2;
  config.x += config.dI;
  return res;
}
__name(applyPulsator, "applyPulsator");
function applyTremolo(config, int, sampleRate) {
  const fOffset = 1 - config.depth;
  const modSignal = fOffset + config.depth * Math.sin(config.phase);
  config.phase += 2 * Math.PI / sampleRate * config.frequency;
  return modSignal * int;
}
__name(applyTremolo, "applyTremolo");
function applyVibrato(config, int, sampleRate) {
  const fOffset = 1 - config.depth;
  const modSignal = fOffset + config.depth * Math.sin(2 * Math.PI * config.phase);
  config.phase += 2 * Math.PI / sampleRate * config.frequency;
  return modSignal * int;
}
__name(applyVibrato, "applyVibrato");
function applyVolume(vol, int) {
  return vol * int;
}
__name(applyVolume, "applyVolume");

// src/audio/transformers/equalizer.ts
function applyEqualization(eq, int) {
  const processor = eq.channels[0];
  const result = processor.processInt(int);
  processor.step();
  return result;
}
__name(applyEqualization, "applyEqualization");

// src/audio/AudioFilter.ts
var AudioFilters = {
  "8D": "8D",
  Tremolo: "Tremolo",
  Vibrato: "Vibrato"
};
var AF_NIGHTCORE_RATE = 1.3;
var AF_VAPORWAVE_RATE = 0.8;
var BASS_EQ_BANDS = Array.from(
  { length: 3 },
  (_, i) => ({
    band: i,
    gain: 0.25
  })
);
var _AudioFilter = class _AudioFilter extends PCMTransformer {
  constructor(options) {
    super(options);
    __publicField(this, "filters", []);
    __publicField(this, "targetSampleRate", this.sampleRate);
    __publicField(this, "totalSamples", 0);
    __publicField(this, "_processedSamples", 0);
    __publicField(this, "pulsatorConfig", {
      hz: 0.02,
      x: 0,
      dI: 3926990816987241e-21
    });
    __publicField(this, "tremoloConfig", {
      phase: 0,
      depth: 0.5,
      frequency: 5
    });
    __publicField(this, "vibratoConfig", {
      phase: 0,
      depth: 0.5,
      frequency: 5
    });
    if (options && Array.isArray(options.filters)) {
      this.setFilters(options.filters);
    }
    this.onUpdate?.();
  }
  setTargetSampleRate(rate) {
    this.targetSampleRate = rate || this.sampleRate;
    return;
  }
  setPulsator(hz) {
    hz /= 4;
    this.pulsatorConfig.hz = hz;
    const samplesPerCycle = this.targetSampleRate / (hz * 2 * Math.PI);
    this.pulsatorConfig.dI = hz === 0 ? 0 : 1 / samplesPerCycle;
    this.onUpdate?.();
  }
  get pulsator() {
    return this.pulsatorConfig.hz;
  }
  setTremolo({
    depth = this.tremoloConfig.depth,
    frequency = this.tremoloConfig.frequency,
    phase = this.tremoloConfig.phase
  }) {
    if (typeof depth === "number") this.tremoloConfig.depth = depth;
    if (typeof frequency === "number") this.tremoloConfig.frequency = frequency;
    if (typeof phase === "number") this.tremoloConfig.phase = phase;
    this.onUpdate?.();
  }
  setVibrato({
    depth = this.vibratoConfig.depth,
    frequency = this.vibratoConfig.frequency,
    phase = this.vibratoConfig.phase
  }) {
    if (typeof depth === "number") this.vibratoConfig.depth = depth;
    if (typeof frequency === "number") this.vibratoConfig.frequency = frequency;
    if (typeof phase === "number") this.vibratoConfig.phase = phase;
    this.onUpdate?.();
  }
  get tremolo() {
    return this.tremoloConfig;
  }
  setFilters(filters) {
    if (!Array.isArray(filters) || !filters.every((r) => r in AudioFilters)) {
      return false;
    }
    this.filters = filters;
    this.onUpdate?.();
    return true;
  }
  // TODO
  seek(duration) {
    throw new Error("Not Implemented");
  }
  _transform(chunk, encoding, callback) {
    this._processedSamples++;
    this.totalSamples += chunk.length / this.bits;
    if (this.disabled || !this.filters.length) {
      return callback(null, chunk);
    }
    const len = Math.floor(chunk.length / 2) * 2;
    const { bytes } = this;
    let L = false;
    for (let i = 0; i < len; i += bytes) {
      const int = this._readInt(chunk, i);
      const value = this.applyFilters(int, +(L = !L));
      this._writeInt(chunk, this.clamp(value), i);
    }
    this.push(chunk);
    return callback();
  }
  get currentSampleRate() {
    return this.targetSampleRate || this.sampleRate;
  }
  get estimatedDuration() {
    return this.totalSamples / this.targetSampleRate * 1e3;
  }
  get currentDuration() {
    return this._processedSamples * 1e3 / this.targetSampleRate;
  }
  applyFilters(byte, channel) {
    if (this.filters.length) {
      for (const filter of this.filters) {
        if (filter === "8D") {
          byte = applyPulsator(this.pulsatorConfig, byte, channel);
        }
        if (filter === "Tremolo") {
          byte = applyTremolo(this.tremoloConfig, byte, this.currentSampleRate);
        }
        if (filter === "Vibrato") {
          byte = applyVibrato(this.vibratoConfig, byte, this.currentSampleRate);
        }
      }
    }
    return byte;
  }
};
__name(_AudioFilter, "AudioFilter");
var AudioFilter = _AudioFilter;

// src/audio/PCMResampler.ts
var _PCMResampler = class _PCMResampler extends PCMTransformer {
  constructor(options) {
    super(options);
    __publicField(this, "targetSampleRate", this.sampleRate);
    if (options?.targetSampleRate)
      this.targetSampleRate = options.targetSampleRate;
  }
  get AF_NIGHTCORE() {
    return 64e3;
  }
  get AF_VAPORWAVE() {
    return 32e3;
  }
  setTargetSampleRate(rate) {
    if (rate === "NIGHTCORE" || rate === "VAPORWAVE") rate = this[`AF_${rate}`];
    if (typeof rate !== "number") return false;
    this.targetSampleRate = rate;
    this.onUpdate?.();
    return true;
  }
  // TODO: enable this
  _transform(chunk, _, cb) {
    if (this.disabled || this.sampleRate === this.targetSampleRate) {
      this.push(chunk);
      return cb();
    }
    this.push(chunk);
    cb();
  }
};
__name(_PCMResampler, "PCMResampler");
var PCMResampler = _PCMResampler;

// src/audio/VolumeTransformer.ts
var _VolumeTransformer = class _VolumeTransformer extends PCMTransformer {
  constructor(options) {
    super(options);
    __publicField(this, "_volume", 1);
    if (typeof options?.volume === "number") {
      this.setVolume(options.volume);
    }
  }
  get volumeApprox() {
    return this._volume * 100;
  }
  get volume() {
    return Math.floor(this.volumeApprox);
  }
  set volume(volume) {
    this.setVolume(volume);
  }
  setVolume(volume) {
    if (typeof volume !== "number" || isNaN(volume))
      throw new Error(
        `Expected volume amount to be a number, received ${typeof volume}!`
      );
    if (volume < 0) volume = 0;
    if (!isFinite(volume)) volume = 100;
    this._volume = volume / 100;
    this.onUpdate?.();
    return true;
  }
  _transform(chunk, encoding, callback) {
    if (this.disabled || this._volume === 1) {
      this.push(chunk);
      return callback();
    }
    const len = Math.floor(chunk.length / 2) * 2;
    const { bytes } = this;
    for (let i = 0; i < len; i += bytes) {
      const int = this._readInt(chunk, i);
      const amp = this.clamp(int * this._volume);
      this._writeInt(chunk, amp, i);
    }
    this.push(chunk);
    return callback();
  }
  toString() {
    return `${this.volume}%`;
  }
};
__name(_VolumeTransformer, "VolumeTransformer");
var VolumeTransformer = _VolumeTransformer;

// src/FiltersChainBuilder.ts
var import_stream2 = require("stream");
var _FiltersChain = class _FiltersChain {
  constructor(presets = {}) {
    this.presets = presets;
    __publicField(this, "equalizer", null);
    __publicField(this, "filters", null);
    __publicField(this, "biquad", null);
    __publicField(this, "volume", null);
    __publicField(this, "resampler", null);
    __publicField(this, "destination", null);
    __publicField(this, "source", null);
    __publicField(this, "onUpdate", /* @__PURE__ */ __name(() => null, "onUpdate"));
    __publicField(this, "onError", /* @__PURE__ */ __name(() => null, "onError"));
  }
  create(src, presets = this.presets) {
    this.destroy();
    this.source = src;
    const equalizerStream = !presets.equalizer?.disabled ? new EqualizerStream(presets.equalizer) : null;
    const dspStream = !presets.dsp?.disabled ? new AudioFilter(presets.dsp) : null;
    const biquadStream = !presets.biquad?.disabled ? new BiquadStream(presets.biquad) : null;
    const volumeTransformer = !presets.volume?.disabled ? new VolumeTransformer(presets.volume) : null;
    this.equalizer = equalizerStream;
    this.filters = dspStream;
    this.biquad = biquadStream;
    this.volume = volumeTransformer;
    if (equalizerStream) equalizerStream.onUpdate = this.onUpdate;
    if (dspStream) dspStream.onUpdate = this.onUpdate;
    if (biquadStream) biquadStream.onUpdate = this.onUpdate;
    if (volumeTransformer) volumeTransformer.onUpdate = this.onUpdate;
    const chains = [
      src,
      equalizerStream,
      dspStream,
      biquadStream,
      volumeTransformer
    ].filter(Boolean);
    if (!chains.length) return src;
    this.destination = (0, import_stream2.pipeline)(...chains, (err) => {
      if (err) {
        this.destroy();
        if (!err.message.includes("ERR_STREAM_PREMATURE_CLOSE"))
          this.onError(err);
      }
    });
    this.destination.once("close", this.destroy.bind(this));
    return this.destination;
  }
  destroy() {
    this.equalizer?.destroy();
    this.biquad?.destroy();
    this.filters?.destroy();
    this.volume?.destroy();
    this.destination?.destroy();
    this.source?.destroy();
    this.equalizer?.removeAllListeners();
    this.biquad?.removeAllListeners();
    this.filters?.removeAllListeners();
    this.volume?.removeAllListeners();
    this.destination?.removeAllListeners();
    this.source?.removeAllListeners();
    this.equalizer = null;
    this.biquad = null;
    this.filters = null;
    this.volume = null;
    this.destination = null;
    this.source = null;
  }
};
__name(_FiltersChain, "FiltersChain");
var FiltersChain = _FiltersChain;

// src/version.ts
var version = (
  /* @__MACRO__ getVersion */
  "7.1.0"
);
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  AF_NIGHTCORE_RATE,
  AF_VAPORWAVE_RATE,
  AudioFilter,
  AudioFilters,
  BASS_EQ_BANDS,
  BiquadFilter,
  BiquadStream,
  ChannelProcessor,
  Coefficients,
  Equalizer,
  EqualizerCoefficients,
  EqualizerConfiguration,
  EqualizerStream,
  FilterType,
  FiltersChain,
  Frequency,
  MonoStereoTransformer,
  PCMAudioTransformer,
  PCMResampler,
  PCMTransformer,
  Q_BUTTERWORTH,
  VolumeTransformer,
  version
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL3NyYy9iaXF1YWQvQ29lZmZpY2llbnRzLnRzIiwgIi4uL3NyYy9iaXF1YWQvQmlxdWFkLnRzIiwgIi4uL3NyYy91dGlscy9GcmVxdWVuY3kudHMiLCAiLi4vc3JjL3V0aWxzL1BDTVRyYW5zZm9ybWVyLnRzIiwgIi4uL3NyYy9iaXF1YWQvQmlxdWFkU3RyZWFtLnRzIiwgIi4uL3NyYy9lcXVhbGl6ZXIvQ2hhbm5lbFByb2Nlc3Nvci50cyIsICIuLi9zcmMvZXF1YWxpemVyL0NvZWZmaWNpZW50cy50cyIsICIuLi9zcmMvZXF1YWxpemVyL0VxdWFsaXplckNvbmZpZ3VyYXRpb24udHMiLCAiLi4vc3JjL2VxdWFsaXplci9FcXVhbGl6ZXIudHMiLCAiLi4vc3JjL2VxdWFsaXplci9FcXVhbGl6ZXJTdHJlYW0udHMiLCAiLi4vc3JjL2F1ZGlvL01vbm9TdGVyZW9UcmFuc2Zvcm1lci50cyIsICIuLi9zcmMvYXVkaW8vdHJhbnNmb3JtZXJzL2luZGV4LnRzIiwgIi4uL3NyYy9hdWRpby90cmFuc2Zvcm1lcnMvYmlxdWFkLnRzIiwgIi4uL3NyYy9hdWRpby90cmFuc2Zvcm1lcnMvZHNwLnRzIiwgIi4uL3NyYy9hdWRpby90cmFuc2Zvcm1lcnMvZXF1YWxpemVyLnRzIiwgIi4uL3NyYy9hdWRpby9BdWRpb0ZpbHRlci50cyIsICIuLi9zcmMvYXVkaW8vUENNUmVzYW1wbGVyLnRzIiwgIi4uL3NyYy9hdWRpby9Wb2x1bWVUcmFuc2Zvcm1lci50cyIsICIuLi9zcmMvRmlsdGVyc0NoYWluQnVpbGRlci50cyIsICIuLi9zcmMvdmVyc2lvbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0ICogZnJvbSAnLi9iaXF1YWQnO1xuZXhwb3J0ICogZnJvbSAnLi9lcXVhbGl6ZXInO1xuZXhwb3J0ICogZnJvbSAnLi91dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL2F1ZGlvJztcbmV4cG9ydCAqIGZyb20gJy4vRmlsdGVyc0NoYWluQnVpbGRlcic7XG5leHBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uJzsiLCAiZXhwb3J0IGNvbnN0IEZpbHRlclR5cGUgPSB7XG4gIFNpbmdsZVBvbGVMb3dQYXNzQXBwcm94OiAwLFxuICBTaW5nbGVQb2xlTG93UGFzczogMSxcbiAgTG93UGFzczogMixcbiAgSGlnaFBhc3M6IDMsXG4gIEJhbmRQYXNzOiA0LFxuICBOb3RjaDogNSxcbiAgQWxsUGFzczogNixcbiAgTG93U2hlbGY6IDcsXG4gIEhpZ2hTaGVsZjogOCxcbiAgUGVha2luZ0VROiA5XG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBCaXF1YWRGaWx0ZXJzID1cbmtleW9mIHR5cGVvZiBGaWx0ZXJUeXBlIHxcbih0eXBlb2YgRmlsdGVyVHlwZSlba2V5b2YgdHlwZW9mIEZpbHRlclR5cGVdO1xuXG5pbnRlcmZhY2UgQ29lZmZpY2llbnRzSW5pdCB7XG4gIGExOiBudW1iZXI7XG4gIGEyOiBudW1iZXI7XG4gIGIwOiBudW1iZXI7XG4gIGIxOiBudW1iZXI7XG4gIGIyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBRX0JVVFRFUldPUlRIID0gTWF0aC5TUVJUMV8yO1xuXG5leHBvcnQgY2xhc3MgQ29lZmZpY2llbnRzIHtcbiAgLy8gRGVub21pbmF0b3IgY29lZmZpY2llbnRzXG4gIHB1YmxpYyBhMSA9IDA7XG4gIHB1YmxpYyBhMiA9IDA7XG5cbiAgLy8gTm9taW5hdG9yIGNvZWZmaWNpZW50c1xuICBwdWJsaWMgYjAgPSAwO1xuICBwdWJsaWMgYjEgPSAwO1xuICBwdWJsaWMgYjIgPSAwO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRhPzogQ29lZmZpY2llbnRzSW5pdCkge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLmExID0gZGF0YS5hMTtcbiAgICAgIHRoaXMuYTIgPSBkYXRhLmEyO1xuICAgICAgdGhpcy5iMCA9IGRhdGEuYjA7XG4gICAgICB0aGlzLmIxID0gZGF0YS5iMTtcbiAgICAgIHRoaXMuYjIgPSBkYXRhLmIyO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbShcbiAgZmlsdGVyOiBCaXF1YWRGaWx0ZXJzLFxuICBzYW1wbGluZ0ZyZXE6IG51bWJlcixcbiAgY3V0b2ZmRnJlcTogbnVtYmVyLFxuICBROiBudW1iZXIsXG4gIGRiR2FpbiA9IC0xMClcbiAge1xuICAgIGlmICgyLjAgKiBjdXRvZmZGcmVxID4gc2FtcGxpbmdGcmVxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEN1dG9mZiBmcmVxdWVuY3kgaXMgdG9vIGJpZyFgKTtcbiAgICB9XG5cbiAgICBpZiAoUSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUSBtYXkgbm90IGJlIG5lZ2F0aXZlYCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb21lZ2EgPSAyLjAgKiBNYXRoLlBJICogY3V0b2ZmRnJlcSAvIHNhbXBsaW5nRnJlcTtcblxuICAgIGNvbnN0IGJxZiA9IHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnID8gRmlsdGVyVHlwZVtmaWx0ZXJdIDogZmlsdGVyO1xuXG4gICAgc3dpdGNoIChicWYpIHtcbiAgICAgIGNhc2UgRmlsdGVyVHlwZS5TaW5nbGVQb2xlTG93UGFzc0FwcHJveDp7XG4gICAgICAgICAgY29uc3QgYWxwaGEgPSBvbWVnYSAvIChvbWVnYSArIDEuMCk7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvZWZmaWNpZW50cyh7XG4gICAgICAgICAgICBhMTogYWxwaGEgLSAxLjAsXG4gICAgICAgICAgICBhMjogMC4wLFxuICAgICAgICAgICAgYjA6IGFscGhhLFxuICAgICAgICAgICAgYjE6IDAuMCxcbiAgICAgICAgICAgIGIyOiAwLjBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBGaWx0ZXJUeXBlLlNpbmdsZVBvbGVMb3dQYXNzOntcbiAgICAgICAgICBjb25zdCBvbWVnYV90ID0gTWF0aC50YW4ob21lZ2EgLyAyLjApO1xuICAgICAgICAgIGNvbnN0IGEwID0gMS4wICsgb21lZ2FfdDtcblxuICAgICAgICAgIHJldHVybiBuZXcgQ29lZmZpY2llbnRzKHtcbiAgICAgICAgICAgIGExOiAob21lZ2FfdCAtIDEuMCkgLyBhMCxcbiAgICAgICAgICAgIGEyOiAwLjAsXG4gICAgICAgICAgICBiMDogb21lZ2FfdCAvIGEwLFxuICAgICAgICAgICAgYjE6IG9tZWdhX3QgLyBhMCxcbiAgICAgICAgICAgIGIyOiAwLjBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBGaWx0ZXJUeXBlLkxvd1Bhc3M6e1xuICAgICAgICAgIGNvbnN0IG9tZWdhX3MgPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICAgICAgY29uc3Qgb21lZ2FfYyA9IE1hdGguY29zKG9tZWdhKTtcbiAgICAgICAgICBjb25zdCBhbHBoYSA9IG9tZWdhX3MgLyAoMi4wICogUSk7XG5cbiAgICAgICAgICBjb25zdCBiMCA9ICgxLjAgLSBvbWVnYV9jKSAqIDAuNTtcbiAgICAgICAgICBjb25zdCBiMSA9IDEuMCAtIG9tZWdhX2M7XG4gICAgICAgICAgY29uc3QgYjIgPSAoMS4wIC0gb21lZ2FfYykgKiAwLjU7XG4gICAgICAgICAgY29uc3QgYTAgPSAxLjAgKyBhbHBoYTtcbiAgICAgICAgICBjb25zdCBhMSA9IC0yLjAgKiBvbWVnYV9jO1xuICAgICAgICAgIGNvbnN0IGEyID0gMS4wIC0gYWxwaGE7XG5cbiAgICAgICAgICBjb25zdCBkaXYgPSAxLjAgLyBhMDtcblxuICAgICAgICAgIHJldHVybiBuZXcgQ29lZmZpY2llbnRzKHtcbiAgICAgICAgICAgIGExOiBhMSAqIGRpdixcbiAgICAgICAgICAgIGEyOiBhMiAqIGRpdixcbiAgICAgICAgICAgIGIwOiBiMCAqIGRpdixcbiAgICAgICAgICAgIGIxOiBiMSAqIGRpdixcbiAgICAgICAgICAgIGIyOiBiMiAqIGRpdlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIEZpbHRlclR5cGUuSGlnaFBhc3M6e1xuICAgICAgICAgIGNvbnN0IG9tZWdhX3MgPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICAgICAgY29uc3Qgb21lZ2FfYyA9IE1hdGguY29zKG9tZWdhKTtcbiAgICAgICAgICBjb25zdCBhbHBoYSA9IG9tZWdhX3MgLyAoMi4wICogUSk7XG5cbiAgICAgICAgICBjb25zdCBiMCA9ICgxLjAgKyBvbWVnYV9jKSAqIDAuNTtcbiAgICAgICAgICBjb25zdCBiMSA9IC0oMS4wICsgb21lZ2FfYyk7XG4gICAgICAgICAgY29uc3QgYjIgPSAoMS4wICsgb21lZ2FfYykgKiAwLjU7XG4gICAgICAgICAgY29uc3QgYTAgPSAxLjAgKyBhbHBoYTtcbiAgICAgICAgICBjb25zdCBhMSA9IC0yLjAgKiBvbWVnYV9jO1xuICAgICAgICAgIGNvbnN0IGEyID0gMS4wIC0gYWxwaGE7XG5cbiAgICAgICAgICBjb25zdCBkaXYgPSAxLjAgLyBhMDtcblxuICAgICAgICAgIHJldHVybiBuZXcgQ29lZmZpY2llbnRzKHtcbiAgICAgICAgICAgIGExOiBhMSAqIGRpdixcbiAgICAgICAgICAgIGEyOiBhMiAqIGRpdixcbiAgICAgICAgICAgIGIwOiBiMCAqIGRpdixcbiAgICAgICAgICAgIGIxOiBiMSAqIGRpdixcbiAgICAgICAgICAgIGIyOiBiMiAqIGRpdlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIEZpbHRlclR5cGUuTm90Y2g6e1xuICAgICAgICAgIGNvbnN0IG9tZWdhX3MgPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICAgICAgY29uc3Qgb21lZ2FfYyA9IE1hdGguY29zKG9tZWdhKTtcbiAgICAgICAgICBjb25zdCBhbHBoYSA9IG9tZWdhX3MgLyAoMi4wICogUSk7XG5cbiAgICAgICAgICBjb25zdCBiMCA9IDEuMDtcbiAgICAgICAgICBjb25zdCBiMSA9IC0yLjAgKiBvbWVnYV9jO1xuICAgICAgICAgIGNvbnN0IGIyID0gMS4wO1xuICAgICAgICAgIGNvbnN0IGEwID0gMS4wICsgYWxwaGE7XG4gICAgICAgICAgY29uc3QgYTEgPSAtMi4wICogb21lZ2FfYztcbiAgICAgICAgICBjb25zdCBhMiA9IDEuMCAtIGFscGhhO1xuXG4gICAgICAgICAgY29uc3QgZGl2ID0gMS4wIC8gYTA7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvZWZmaWNpZW50cyh7XG4gICAgICAgICAgICBhMTogYTEgKiBkaXYsXG4gICAgICAgICAgICBhMjogYTIgKiBkaXYsXG4gICAgICAgICAgICBiMDogYjAgKiBkaXYsXG4gICAgICAgICAgICBiMTogYjEgKiBkaXYsXG4gICAgICAgICAgICBiMjogYjIgKiBkaXZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBGaWx0ZXJUeXBlLkJhbmRQYXNzOntcbiAgICAgICAgICBjb25zdCBvbWVnYV9zID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgICAgIGNvbnN0IG9tZWdhX2MgPSBNYXRoLmNvcyhvbWVnYSk7XG4gICAgICAgICAgY29uc3QgYWxwaGEgPSBvbWVnYV9zIC8gKDIuMCAqIFEpO1xuXG4gICAgICAgICAgY29uc3QgYjAgPSBvbWVnYV9zIC8gMi4wO1xuICAgICAgICAgIGNvbnN0IGIxID0gMDtcbiAgICAgICAgICBjb25zdCBiMiA9IC0ob21lZ2FfcyAvIDIuMCk7XG4gICAgICAgICAgY29uc3QgYTAgPSAxLjAgKyBhbHBoYTtcbiAgICAgICAgICBjb25zdCBhMSA9IC0yLjAgKiBvbWVnYV9jO1xuICAgICAgICAgIGNvbnN0IGEyID0gMS4wIC0gYWxwaGE7XG5cbiAgICAgICAgICBjb25zdCBkaXYgPSAxLjAgLyBhMDtcblxuICAgICAgICAgIHJldHVybiBuZXcgQ29lZmZpY2llbnRzKHtcbiAgICAgICAgICAgIGExOiBhMSAqIGRpdixcbiAgICAgICAgICAgIGEyOiBhMiAqIGRpdixcbiAgICAgICAgICAgIGIwOiBiMCAqIGRpdixcbiAgICAgICAgICAgIGIxOiBiMSAqIGRpdixcbiAgICAgICAgICAgIGIyOiBiMiAqIGRpdlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIEZpbHRlclR5cGUuQWxsUGFzczp7XG4gICAgICAgICAgY29uc3Qgb21lZ2FfcyA9IE1hdGguc2luKG9tZWdhKTtcbiAgICAgICAgICBjb25zdCBvbWVnYV9jID0gTWF0aC5jb3Mob21lZ2EpO1xuICAgICAgICAgIGNvbnN0IGFscGhhID0gb21lZ2FfcyAvICgyLjAgKiBRKTtcblxuICAgICAgICAgIGNvbnN0IGIwID0gMS4wIC0gYWxwaGE7XG4gICAgICAgICAgY29uc3QgYjEgPSAtMi4wICogb21lZ2FfYztcbiAgICAgICAgICBjb25zdCBiMiA9IDEuMCArIGFscGhhO1xuICAgICAgICAgIGNvbnN0IGEwID0gMS4wICsgYWxwaGE7XG4gICAgICAgICAgY29uc3QgYTEgPSAtMi4wICogb21lZ2FfYztcbiAgICAgICAgICBjb25zdCBhMiA9IDEuMCAtIGFscGhhO1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBDb2VmZmljaWVudHMoe1xuICAgICAgICAgICAgYTE6IGExIC8gYTAsXG4gICAgICAgICAgICBhMjogYTIgLyBhMCxcbiAgICAgICAgICAgIGIwOiBiMCAvIGEwLFxuICAgICAgICAgICAgYjE6IGIxIC8gYTAsXG4gICAgICAgICAgICBiMjogYjIgLyBhMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBjYXNlIEZpbHRlclR5cGUuTG93U2hlbGY6e1xuICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLnBvdygxMC4wLCBkYkdhaW4gLyA0MC4wKTtcbiAgICAgICAgICBjb25zdCBvbWVnYV9zID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgICAgIGNvbnN0IG9tZWdhX2MgPSBNYXRoLmNvcyhvbWVnYSk7XG4gICAgICAgICAgY29uc3QgYWxwaGEgPSBvbWVnYV9zIC8gKDIuMCAqIFEpO1xuXG4gICAgICAgICAgY29uc3QgYjAgPVxuICAgICAgICAgIGEgKiAoYSArIDEuMCAtIChhIC0gMS4wKSAqIG9tZWdhX2MgKyAyLjAgKiBhbHBoYSAqIE1hdGguc3FydChhKSk7XG4gICAgICAgICAgY29uc3QgYjEgPSAyLjAgKiBhICogKGEgLSAxLjAgLSAoYSArIDEuMCkgKiBvbWVnYV9jKTtcbiAgICAgICAgICBjb25zdCBiMiA9XG4gICAgICAgICAgYSAqIChhICsgMS4wIC0gKGEgLSAxLjApICogb21lZ2FfYyAtIDIuMCAqIGFscGhhICogTWF0aC5zcXJ0KGEpKTtcbiAgICAgICAgICBjb25zdCBhMCA9IGEgKyAxLjAgKyAoYSAtIDEuMCkgKiBvbWVnYV9jICsgMi4wICogYWxwaGEgKiBNYXRoLnNxcnQoYSk7XG4gICAgICAgICAgY29uc3QgYTEgPSAtMi4wICogKGEgLSAxLjAgKyAoYSArIDEuMCkgKiBvbWVnYV9jKTtcbiAgICAgICAgICBjb25zdCBhMiA9IGEgKyAxLjAgKyAoYSAtIDEuMCkgKiBvbWVnYV9jIC0gMi4wICogYWxwaGEgKiBNYXRoLnNxcnQoYSk7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvZWZmaWNpZW50cyh7XG4gICAgICAgICAgICBhMTogYTEgLyBhMCxcbiAgICAgICAgICAgIGEyOiBhMiAvIGEwLFxuICAgICAgICAgICAgYjA6IGIwIC8gYTAsXG4gICAgICAgICAgICBiMTogYjEgLyBhMCxcbiAgICAgICAgICAgIGIyOiBiMiAvIGEwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgRmlsdGVyVHlwZS5IaWdoU2hlbGY6e1xuICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLnBvdygxMC4wLCBkYkdhaW4gLyA0MC4wKTtcbiAgICAgICAgICBjb25zdCBvbWVnYV9zID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgICAgIGNvbnN0IG9tZWdhX2MgPSBNYXRoLmNvcyhvbWVnYSk7XG4gICAgICAgICAgY29uc3QgYWxwaGEgPSBvbWVnYV9zIC8gKDIuMCAqIFEpO1xuXG4gICAgICAgICAgY29uc3QgYjAgPVxuICAgICAgICAgIGEgKiAoYSArIDEuMCArIChhIC0gMS4wKSAqIG9tZWdhX2MgKyAyLjAgKiBhbHBoYSAqIE1hdGguc3FydChhKSk7XG4gICAgICAgICAgY29uc3QgYjEgPSAtMi4wICogYSAqIChhIC0gMS4wICsgKGEgKyAxLjApICogb21lZ2FfYyk7XG4gICAgICAgICAgY29uc3QgYjIgPVxuICAgICAgICAgIGEgKiAoYSArIDEuMCArIChhIC0gMS4wKSAqIG9tZWdhX2MgLSAyLjAgKiBhbHBoYSAqIE1hdGguc3FydChhKSk7XG4gICAgICAgICAgY29uc3QgYTAgPSBhICsgMS4wIC0gKGEgLSAxLjApICogb21lZ2FfYyArIDIuMCAqIGFscGhhICogTWF0aC5zcXJ0KGEpO1xuICAgICAgICAgIGNvbnN0IGExID0gMi4wICogKGEgLSAxLjAgLSAoYSArIDEuMCkgKiBvbWVnYV9jKTtcbiAgICAgICAgICBjb25zdCBhMiA9IGEgKyAxLjAgLSAoYSAtIDEuMCkgKiBvbWVnYV9jIC0gMi4wICogYWxwaGEgKiBNYXRoLnNxcnQoYSk7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IENvZWZmaWNpZW50cyh7XG4gICAgICAgICAgICBhMTogYTEgLyBhMCxcbiAgICAgICAgICAgIGEyOiBhMiAvIGEwLFxuICAgICAgICAgICAgYjA6IGIwIC8gYTAsXG4gICAgICAgICAgICBiMTogYjEgLyBhMCxcbiAgICAgICAgICAgIGIyOiBiMiAvIGEwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgRmlsdGVyVHlwZS5QZWFraW5nRVE6e1xuICAgICAgICAgIGNvbnN0IGEgPSBNYXRoLnBvdygxMC4wLCBkYkdhaW4gLyA0MC4wKTtcbiAgICAgICAgICBjb25zdCBvbWVnYV9zID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgICAgIGNvbnN0IG9tZWdhX2MgPSBNYXRoLmNvcyhvbWVnYSk7XG4gICAgICAgICAgY29uc3QgYWxwaGEgPSBvbWVnYV9zIC8gKDIuMCAqIFEpO1xuXG4gICAgICAgICAgY29uc3QgYjAgPSAxLjAgKyBhbHBoYSAqIGE7XG4gICAgICAgICAgY29uc3QgYjEgPSAtMi4wICogb21lZ2FfYztcbiAgICAgICAgICBjb25zdCBiMiA9IDEuMCAtIGFscGhhICogYTtcbiAgICAgICAgICBjb25zdCBhMCA9IDEuMCArIGFscGhhIC8gYTtcbiAgICAgICAgICBjb25zdCBhMSA9IC0yLjAgKiBvbWVnYV9jO1xuICAgICAgICAgIGNvbnN0IGEyID0gMS4wIC0gYWxwaGEgLyBhO1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBDb2VmZmljaWVudHMoe1xuICAgICAgICAgICAgYTE6IGExIC8gYTAsXG4gICAgICAgICAgICBhMjogYTIgLyBhMCxcbiAgICAgICAgICAgIGIwOiBiMCAvIGEwLFxuICAgICAgICAgICAgYjE6IGIxIC8gYTAsXG4gICAgICAgICAgICBiMjogYjIgLyBhMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGZpbHRlciB0eXBlIFwiJHtmaWx0ZXJ9XCJgKTtcbiAgICB9XG4gIH1cbn0iLCAiaW1wb3J0IHsgQmlxdWFkRmlsdGVycywgQ29lZmZpY2llbnRzIH0gZnJvbSAnLi9Db2VmZmljaWVudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJpcXVhZFNldEZpbHRlclByb3BzIHtcbiAgZjA6IG51bWJlcjtcbiAgZnM6IG51bWJlcjtcbiAgUTogbnVtYmVyO1xuICBnYWluPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgQmlxdWFkRmlsdGVyIHtcbiAgcHVibGljIHgxID0gMC4wO1xuICBwdWJsaWMgeDIgPSAwLjA7XG4gIHB1YmxpYyB5MSA9IDAuMDtcbiAgcHVibGljIHkyID0gMC4wO1xuICBwdWJsaWMgczEgPSAwLjA7XG4gIHB1YmxpYyBzMiA9IDAuMDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGNvZWZmaWNpZW50czogQ29lZmZpY2llbnRzKSB7fVxuXG4gIHB1YmxpYyBzZXRGaWx0ZXIoZmlsdGVyOiBCaXF1YWRGaWx0ZXJzLCBvcHRpb25zOiBCaXF1YWRTZXRGaWx0ZXJQcm9wcykge1xuICAgIGNvbnN0IGNvZWZmaWNpZW50cyA9IENvZWZmaWNpZW50cy5mcm9tKFxuICAgICAgZmlsdGVyLFxuICAgICAgb3B0aW9ucy5mcyxcbiAgICAgIG9wdGlvbnMuZjAsXG4gICAgICBvcHRpb25zLlEsXG4gICAgICBvcHRpb25zLmdhaW5cbiAgICApO1xuXG4gICAgdGhpcy51cGRhdGUoY29lZmZpY2llbnRzKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoY29lZmZpY2llbnRzOiBDb2VmZmljaWVudHMpIHtcbiAgICB0aGlzLmNvZWZmaWNpZW50cyA9IGNvZWZmaWNpZW50cztcbiAgfVxuXG4gIHB1YmxpYyByZXBsYWNlKGNvZWZmaWNpZW50czogQ29lZmZpY2llbnRzKSB7XG4gICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy54MSA9IDAuMDtcbiAgICB0aGlzLngyID0gMC4wO1xuICAgIHRoaXMueTEgPSAwLjA7XG4gICAgdGhpcy55MiA9IDAuMDtcbiAgICB0aGlzLnMxID0gMC4wO1xuICAgIHRoaXMuczIgPSAwLjA7XG4gIH1cblxuICBwdWJsaWMgcnVuKGlucHV0OiBudW1iZXIpIHtcbiAgICBjb25zdCB7IGExLCBhMiwgYjAsIGIxLCBiMiB9ID0gdGhpcy5jb2VmZmljaWVudHM7XG5cbiAgICBjb25zdCBvdXQgPVxuICAgIGIwICogaW5wdXQgKyBiMSAqIHRoaXMueDEgKyBiMiAqIHRoaXMueDIgLSBhMSAqIHRoaXMueTEgLSBhMiAqIHRoaXMueTI7XG5cbiAgICB0aGlzLngyID0gdGhpcy54MTtcbiAgICB0aGlzLngxID0gaW5wdXQ7XG4gICAgdGhpcy55MiA9IHRoaXMueTE7XG4gICAgdGhpcy55MSA9IG91dDtcblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBwdWJsaWMgcnVuVHJhbnNwb3NlZChpbnB1dDogbnVtYmVyKSB7XG4gICAgY29uc3QgeyBhMSwgYTIsIGIwLCBiMSwgYjIgfSA9IHRoaXMuY29lZmZpY2llbnRzO1xuXG4gICAgY29uc3Qgb3V0ID0gdGhpcy5zMSArIGIwICogaW5wdXQ7XG5cbiAgICB0aGlzLnMxID0gdGhpcy5zMiArIGIxICogaW5wdXQgLSBhMSAqIG91dDtcbiAgICB0aGlzLnMyID0gYjIgKiBpbnB1dCAtIGEyICogb3V0O1xuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxufSIsICJleHBvcnQgY2xhc3MgRnJlcXVlbmN5IHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgX192YWw6IG51bWJlcikge1xuICAgIGlmICh0eXBlb2YgX192YWwgIT09ICdudW1iZXInIHx8IGlzTmFOKF9fdmFsKSB8fCBfX3ZhbCA9PT0gSW5maW5pdHkpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnJlcXVlbmN5IHZhbHVlIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICBpZiAodGhpcy5fX3ZhbCA8IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGcmVxdWVuY3kgdmFsdWUgY2Fubm90IGJlIG5lZ2F0aXZlICgke19fdmFsfSlgKTtcbiAgfVxuXG4gIHB1YmxpYyBraHooKSB7XG4gICAgcmV0dXJuIHRoaXMuX192YWwgKiAxMDAwLjA7XG4gIH1cblxuICBwdWJsaWMgbWh6KCkge1xuICAgIHJldHVybiB0aGlzLl9fdmFsICogMV8wMDBfMDAwLjA7XG4gIH1cblxuICBwdWJsaWMgaHooKSB7XG4gICAgcmV0dXJuIHRoaXMuX192YWw7XG4gIH1cblxuICBwdWJsaWMgZHQoKSB7XG4gICAgcmV0dXJuIDEuMCAvIHRoaXMuX192YWw7XG4gIH1cblxuICBwdWJsaWMgdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdGhpcy5fX3ZhbDtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5fX3ZhbH1IemA7XG4gIH1cblxuICBwdWJsaWMgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVHJhbnNmb3JtLCBUcmFuc2Zvcm1PcHRpb25zIH0gZnJvbSAnc3RyZWFtJztcblxuZXhwb3J0IHR5cGUgUENNVHlwZSA9IGBzJHsxNiB8IDMyfSR7J2wnIHwgJ2InfWVgO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyBleHRlbmRzIFRyYW5zZm9ybU9wdGlvbnMge1xuICB0eXBlPzogUENNVHlwZTtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBzYW1wbGVSYXRlPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUENNVHJhbnNmb3JtZXIgZXh0ZW5kcyBUcmFuc2Zvcm0ge1xuICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogUENNVHlwZSA9ICdzMTZsZSc7XG4gIHB1YmxpYyBiaXRzOiBudW1iZXI7XG4gIHB1YmxpYyBieXRlczogbnVtYmVyO1xuICBwdWJsaWMgZXh0cmVtdW06IG51bWJlcjtcbiAgcHVibGljIGRpc2FibGVkID0gZmFsc2U7XG4gIHB1YmxpYyBzYW1wbGVSYXRlID0gNDgwMDA7XG4gIHB1YmxpYyBvblVwZGF0ZSA9ICgpOiB2b2lkID0+IHtcblxuICAgIC8qIG5vb3AgKi99O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBQQ01UcmFuc2Zvcm1lck9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgb3B0aW9ucy50eXBlID8/PSAnczE2bGUnO1xuICAgIHRoaXMuZGlzYWJsZWQgPSAhIW9wdGlvbnMuZGlzYWJsZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnNhbXBsZVJhdGUgPT09ICdudW1iZXInICYmIG9wdGlvbnMuc2FtcGxlUmF0ZSA+IDApIHtcbiAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IG9wdGlvbnMuc2FtcGxlUmF0ZTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgICAgY2FzZSAnczE2YmUnOlxuICAgICAgY2FzZSAnczE2bGUnOlxuICAgICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIHRoaXMuYml0cyA9IDE2O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3MzMmJlJzpcbiAgICAgIGNhc2UgJ3MzMmxlJzpcbiAgICAgICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICB0aGlzLmJpdHMgPSAzMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIGBFeHBlY3RlZCB0eXBlIHRvIGJlIG9uZSBvZiAkeyhcbiAgICAgICAgICBbJ3MxNmJlJywgJ3MxNmxlJywgJ3MzMmJlJywgJ3MzMmxlJ10gYXMgUENNVHlwZVtdKS5cbiAgICAgICAgICBqb2luKCcsICcpfSwgZ290IFwiJHtvcHRpb25zLnR5cGV9XCJgXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5ieXRlcyA9IHRoaXMuYml0cyAvIDg7XG4gICAgdGhpcy5leHRyZW11bSA9IE1hdGgucG93KDIsIHRoaXMuYml0cyAtIDEpO1xuICB9XG5cbiAgcHVibGljIGRpc2FibGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgZW5hYmxlKCkge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlZCA9ICF0aGlzLmRpc2FibGVkO1xuICB9XG5cbiAgcHVibGljIF9yZWFkSW50KGJ1ZmZlcjogQnVmZmVyLCBpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbWV0aG9kID0gYHJlYWRJbnQke3RoaXMudHlwZS5cbiAgICBzdWJzdHJpbmcoMSkuXG4gICAgdG9VcHBlckNhc2UoKX1gIGFzIGByZWFkSW50JHsxNiB8IDMyfSR7J0wnIHwgJ0InfUVgO1xuICAgIHJldHVybiBidWZmZXJbbWV0aG9kXShpbmRleCk7XG4gIH1cblxuICBwdWJsaWMgX3dyaXRlSW50KGJ1ZmZlcjogQnVmZmVyLCBpbnQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IG1ldGhvZCA9IGB3cml0ZUludCR7dGhpcy50eXBlLlxuICAgIHN1YnN0cmluZygxKS5cbiAgICB0b1VwcGVyQ2FzZSgpfWAgYXMgYHdyaXRlSW50JHsxNiB8IDMyfSR7J0wnIHwgJ0InfUVgO1xuICAgIHJldHVybiBidWZmZXJbbWV0aG9kXShpbnQsIGluZGV4KTtcbiAgfVxuXG4gIHB1YmxpYyBjbGFtcCh2YWw6IG51bWJlciwgbWF4ID0gdGhpcy5leHRyZW11bSAtIDEsIG1pbiA9IC10aGlzLmV4dHJlbXVtKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWwpKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTYW1wbGVSYXRlKHJhdGU6IG51bWJlcikge1xuICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHJhdGU7XG4gICAgcmV0dXJuO1xuICB9XG59IiwgImltcG9ydCB7IFRyYW5zZm9ybUNhbGxiYWNrIH0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCB7IFBDTVRyYW5zZm9ybWVyLCBQQ01UcmFuc2Zvcm1lck9wdGlvbnMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBCaXF1YWRGaWx0ZXIgfSBmcm9tICcuL0JpcXVhZCc7XG5pbXBvcnQge1xuICBCaXF1YWRGaWx0ZXJzLFxuICBDb2VmZmljaWVudHMsXG4gIEZpbHRlclR5cGUsXG4gIFFfQlVUVEVSV09SVEggfSBmcm9tXG4nLi9Db2VmZmljaWVudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJpcXVhZFN0cmVhbU9wdGlvbnMgZXh0ZW5kcyBQQ01UcmFuc2Zvcm1lck9wdGlvbnMge1xuICBmaWx0ZXI/OiBCaXF1YWRGaWx0ZXJzO1xuICBRPzogbnVtYmVyO1xuICBjdXRvZmY/OiBudW1iZXI7XG4gIGdhaW4/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlxdWFkRmlsdGVyVXBkYXRlRGF0YSB7XG4gIGZpbHRlcj86IEJpcXVhZEZpbHRlcnM7XG4gIFE/OiBudW1iZXI7XG4gIGN1dG9mZj86IG51bWJlcjtcbiAgZ2Fpbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEJpcXVhZFN0cmVhbSBleHRlbmRzIFBDTVRyYW5zZm9ybWVyIHtcbiAgcHVibGljIGJpcXVhZCE6IEJpcXVhZEZpbHRlcjtcbiAgcHVibGljIGN1dG9mZiA9IDgwO1xuICBwdWJsaWMgZ2FpbiA9IDA7XG4gIHB1YmxpYyBiaXF1YWRGaWx0ZXIhOiBCaXF1YWRGaWx0ZXJzO1xuICBwdWJsaWMgUSA9IFFfQlVUVEVSV09SVEg7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBCaXF1YWRTdHJlYW1PcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIGlmICgnY3V0b2ZmJyBpbiBvcHRpb25zKSB0aGlzLmN1dG9mZiA9IG9wdGlvbnMuY3V0b2ZmITtcbiAgICBpZiAoJ2dhaW4nIGluIG9wdGlvbnMpIHRoaXMuZ2FpbiA9IG9wdGlvbnMuZ2FpbiE7XG4gICAgaWYgKCdRJyBpbiBvcHRpb25zKSB0aGlzLlEgPSBvcHRpb25zLlEhO1xuICAgIGlmICgnYmlxdWFkRmlsdGVyJyBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5iaXF1YWRGaWx0ZXIgPT09ICdzdHJpbmcnIHx8XG4gICAgICB0eXBlb2Ygb3B0aW9ucy5iaXF1YWRGaWx0ZXIgPT09ICdudW1iZXInKVxuXG4gICAgICB0aGlzLmJpcXVhZEZpbHRlciA9IG9wdGlvbnMuZmlsdGVyITtcbiAgICAgIGlmICh0aGlzLmJpcXVhZEZpbHRlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYmlxdWFkID0gbmV3IEJpcXVhZEZpbHRlcihcbiAgICAgICAgICBDb2VmZmljaWVudHMuZnJvbShcbiAgICAgICAgICAgIHRoaXMuYmlxdWFkRmlsdGVyLFxuICAgICAgICAgICAgdGhpcy5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgdGhpcy5jdXRvZmYsXG4gICAgICAgICAgICB0aGlzLlEsXG4gICAgICAgICAgICB0aGlzLmdhaW5cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldCBmaWx0ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmJpcXVhZEZpbHRlcjtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgZmlsdGVycyhmOiBCaXF1YWRGaWx0ZXJzKSB7XG4gICAgaWYgKGYgPT0gbnVsbCB8fCB0eXBlb2YgZiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGYgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnVwZGF0ZSh7IGZpbHRlcjogZiB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBiaXF1YWQgZmlsdGVyIHR5cGUgXCIke2Z9XCJgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0RmlsdGVyTmFtZSgpIHtcbiAgICBpZiAodGhpcy5iaXF1YWRGaWx0ZXIgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmJpcXVhZEZpbHRlciA9PT0gJ3N0cmluZycpIHJldHVybiB0aGlzLmJpcXVhZEZpbHRlcjtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoRmlsdGVyVHlwZSkuZmluZChcbiAgICAgIChyKSA9PiByWzFdID09PSB0aGlzLmJpcXVhZEZpbHRlclxuICAgICk/LlswXSBhcyBCaXF1YWRGaWx0ZXJzO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZShvcHRpb25zOiBCaXF1YWRGaWx0ZXJVcGRhdGVEYXRhKSB7XG4gICAgaWYgKCdjdXRvZmYnIGluIG9wdGlvbnMpIHRoaXMuY3V0b2ZmID0gb3B0aW9ucy5jdXRvZmYhO1xuICAgIGlmICgnZ2FpbicgaW4gb3B0aW9ucykgdGhpcy5nYWluID0gb3B0aW9ucy5nYWluITtcbiAgICBpZiAoJ1EnIGluIG9wdGlvbnMpIHRoaXMuUSA9IG9wdGlvbnMuUSE7XG4gICAgaWYgKCdmaWx0ZXInIGluIG9wdGlvbnMpIHRoaXMuYmlxdWFkRmlsdGVyID0gb3B0aW9ucy5maWx0ZXIhO1xuXG4gICAgaWYgKHRoaXMuYmlxdWFkRmlsdGVyICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYmlxdWFkID0gbmV3IEJpcXVhZEZpbHRlcihcbiAgICAgICAgQ29lZmZpY2llbnRzLmZyb20oXG4gICAgICAgICAgdGhpcy5iaXF1YWRGaWx0ZXIsXG4gICAgICAgICAgdGhpcy5zYW1wbGVSYXRlLFxuICAgICAgICAgIHRoaXMuY3V0b2ZmLFxuICAgICAgICAgIHRoaXMuUSxcbiAgICAgICAgICB0aGlzLmdhaW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uVXBkYXRlPy4oKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRGaWx0ZXIoZmlsdGVyOiBCaXF1YWRGaWx0ZXJzKSB7XG4gICAgdGhpcy51cGRhdGUoeyBmaWx0ZXIgfSk7XG4gIH1cblxuICBwdWJsaWMgc2V0UShROiBudW1iZXIpIHtcbiAgICB0aGlzLnVwZGF0ZSh7IFEgfSk7XG4gIH1cblxuICBwdWJsaWMgc2V0Q3V0b2ZmKGYwOiBudW1iZXIpIHtcbiAgICB0aGlzLnVwZGF0ZSh7IGN1dG9mZjogZjAgfSk7XG4gIH1cblxuICBwdWJsaWMgc2V0R2FpbihkQjogbnVtYmVyKSB7XG4gICAgdGhpcy51cGRhdGUoeyBnYWluOiBkQiB9KTtcbiAgfVxuXG4gIHB1YmxpYyBfdHJhbnNmb3JtKFxuICBjaHVuazogQnVmZmVyLFxuICBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcsXG4gIGNhbGxiYWNrOiBUcmFuc2Zvcm1DYWxsYmFjaylcbiAge1xuICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICF0aGlzLmJpcXVhZCkge1xuICAgICAgdGhpcy5wdXNoKGNodW5rKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5mbG9vcihjaHVuay5sZW5ndGggLyAyKSAqIDI7XG4gICAgY29uc3QgeyBieXRlcyB9ID0gdGhpcztcblxuICAgIGZvciAobGV0IHNhbXBsZUluZGV4ID0gMDsgc2FtcGxlSW5kZXggPCBlbmRJbmRleDsgc2FtcGxlSW5kZXggKz0gYnl0ZXMpIHtcbiAgICAgIGNvbnN0IGludCA9IHRoaXMuX3JlYWRJbnQoY2h1bmssIHNhbXBsZUluZGV4KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYmlxdWFkLnJ1bihpbnQpO1xuICAgICAgdGhpcy5fd3JpdGVJbnQoY2h1bmssIHRoaXMuY2xhbXAocmVzdWx0KSwgc2FtcGxlSW5kZXgpO1xuICAgIH1cblxuICAgIHRoaXMucHVzaChjaHVuayk7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgRXF1YWxpemVyIH0gZnJvbSAnLi9FcXVhbGl6ZXInO1xuXG5leHBvcnQgdHlwZSBSZWFkSW50Q2FsbGJhY2sgPSAoYnVmZmVyOiBCdWZmZXIsIGluZGV4OiBudW1iZXIpID0+IG51bWJlcjtcbmV4cG9ydCB0eXBlIFdyaXRlSW50Q2FsbGJhY2sgPSAoXG5idWZmZXI6IEJ1ZmZlcixcbmludDogbnVtYmVyLFxuaW5kZXg6IG51bWJlcilcbj0+IG51bWJlcjtcblxuZXhwb3J0IGNsYXNzIENoYW5uZWxQcm9jZXNzb3Ige1xuICBwdWJsaWMgaGlzdG9yeTogbnVtYmVyW107XG4gIHB1YmxpYyBiYW5kTXVsdGlwbGllcnM6IG51bWJlcltdO1xuICBwdWJsaWMgY3VycmVudDogbnVtYmVyO1xuICBwdWJsaWMgbTE6IG51bWJlcjtcbiAgcHVibGljIG0yOiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKGJhbmRNdWx0aXBsaWVyczogbnVtYmVyW10pIHtcbiAgICB0aGlzLmhpc3RvcnkgPSBuZXcgQXJyYXkoRXF1YWxpemVyLkJBTkRfQ09VTlQgKiA2KS5maWxsKDApO1xuICAgIHRoaXMuYmFuZE11bHRpcGxpZXJzID0gYmFuZE11bHRpcGxpZXJzO1xuICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgdGhpcy5tMSA9IDI7XG4gICAgdGhpcy5tMiA9IDE7XG4gIH1cblxuICBwdWJsaWMgcHJvY2Vzc0ludChpbnQ6IG51bWJlcikge1xuICAgIGxldCByZXN1bHQgPSBpbnQgKiAwLjI1O1xuXG4gICAgZm9yIChsZXQgYmFuZEluZGV4ID0gMDsgYmFuZEluZGV4IDwgRXF1YWxpemVyLkJBTkRfQ09VTlQ7IGJhbmRJbmRleCsrKSB7XG4gICAgICBjb25zdCB4ID0gYmFuZEluZGV4ICogNjtcbiAgICAgIGNvbnN0IHkgPSB4ICsgMztcblxuICAgICAgY29uc3QgY29lZmZpY2llbnRzID0gRXF1YWxpemVyLkNvZWZmaWNpZW50czQ4MDAwW2JhbmRJbmRleF07XG5cbiAgICAgIGNvbnN0IGJhbmRSZXN1bHQgPVxuICAgICAgY29lZmZpY2llbnRzLmFscGhhICogKGludCAtIHRoaXMuaGlzdG9yeVt4ICsgdGhpcy5tMl0pICtcbiAgICAgIGNvZWZmaWNpZW50cy5nYW1tYSAqIHRoaXMuaGlzdG9yeVt5ICsgdGhpcy5tMV0gLVxuICAgICAgY29lZmZpY2llbnRzLmJldGEgKiB0aGlzLmhpc3RvcnlbeSArIHRoaXMubTJdO1xuXG4gICAgICB0aGlzLmhpc3RvcnlbeCArIHRoaXMuY3VycmVudF0gPSBpbnQ7XG4gICAgICB0aGlzLmhpc3RvcnlbeSArIHRoaXMuY3VycmVudF0gPSBiYW5kUmVzdWx0O1xuXG4gICAgICByZXN1bHQgKz0gYmFuZFJlc3VsdCAqIHRoaXMuYmFuZE11bHRpcGxpZXJzW2JhbmRJbmRleF07XG4gICAgfVxuXG4gICAgY29uc3QgdmFsID0gcmVzdWx0ICogNC4wO1xuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIHB1YmxpYyBwcm9jZXNzKFxuICBzYW1wbGVzOiBCdWZmZXIsXG4gIGV4dHJlbXVtID0gMTMxMDcyLFxuICBieXRlcyA9IDIsXG4gIHJlYWRJbnQ/OiBSZWFkSW50Q2FsbGJhY2ssXG4gIHdyaXRlSW50PzogV3JpdGVJbnRDYWxsYmFjaylcbiAge1xuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5mbG9vcihzYW1wbGVzLmxlbmd0aCAvIDIpICogMjtcbiAgICBmb3IgKGxldCBzYW1wbGVJbmRleCA9IDA7IHNhbXBsZUluZGV4IDwgZW5kSW5kZXg7IHNhbXBsZUluZGV4ICs9IGJ5dGVzKSB7XG4gICAgICBjb25zdCBzYW1wbGUgPVxuICAgICAgcmVhZEludD8uKHNhbXBsZXMsIHNhbXBsZUluZGV4KSA/PyBzYW1wbGVzLnJlYWRJbnQxNkxFKHNhbXBsZUluZGV4KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc0ludChzYW1wbGUpO1xuXG4gICAgICBjb25zdCB2YWwgPSBNYXRoLm1pbihleHRyZW11bSAtIDEsIE1hdGgubWF4KC1leHRyZW11bSwgcmVzdWx0KSk7XG4gICAgICB3cml0ZUludD8uKHNhbXBsZXMsIHZhbCwgc2FtcGxlSW5kZXgpID8/XG4gICAgICBzYW1wbGVzLndyaXRlSW50MTZMRSh2YWwsIHNhbXBsZUluZGV4KTtcblxuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhbXBsZXM7XG4gIH1cblxuICBwdWJsaWMgc3RlcCgpIHtcbiAgICBpZiAoKyt0aGlzLmN1cnJlbnQgPT09IDMpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCsrdGhpcy5tMSA9PT0gMykge1xuICAgICAgdGhpcy5tMSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCsrdGhpcy5tMiA9PT0gMykge1xuICAgICAgdGhpcy5tMiA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuaGlzdG9yeS5maWxsKDAuMCk7XG4gIH1cbn0iLCAiZXhwb3J0IGNsYXNzIEVxdWFsaXplckNvZWZmaWNpZW50cyB7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgcHVibGljIGJldGE6IG51bWJlcixcbiAgcHVibGljIGFscGhhOiBudW1iZXIsXG4gIHB1YmxpYyBnYW1tYTogbnVtYmVyKVxuICB7fVxuXG4gIHB1YmxpYyBzZXRCZXRhKHY6IG51bWJlcikge1xuICAgIHRoaXMuYmV0YSA9IHY7XG4gIH1cblxuICBwdWJsaWMgc2V0QWxwaGEodjogbnVtYmVyKSB7XG4gICAgdGhpcy5hbHBoYSA9IHY7XG4gIH1cblxuICBwdWJsaWMgc2V0R2FtbWEodjogbnVtYmVyKSB7XG4gICAgdGhpcy5nYW1tYSA9IHY7XG4gIH1cblxuICBwdWJsaWMgdG9KU09OKCkge1xuICAgIGNvbnN0IHsgYWxwaGEsIGJldGEsIGdhbW1hIH0gPSB0aGlzO1xuXG4gICAgcmV0dXJuIHsgYWxwaGEsIGJldGEsIGdhbW1hIH07XG4gIH1cbn0iLCAiZXhwb3J0IGNsYXNzIEVxdWFsaXplckNvbmZpZ3VyYXRpb24ge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGJhbmRNdWx0aXBsaWVyczogbnVtYmVyW10pIHt9XG5cbiAgcHVibGljIHNldEdhaW4oYmFuZDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZEJhbmQoYmFuZCkpIHtcbiAgICAgIHRoaXMuYmFuZE11bHRpcGxpZXJzW2JhbmRdID0gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIDEuMCksIC0wLjI1KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0R2FpbihiYW5kOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkQmFuZChiYW5kKSkge1xuICAgICAgcmV0dXJuIHRoaXMuYmFuZE11bHRpcGxpZXJzW2JhbmRdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMC4wO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc1ZhbGlkQmFuZChiYW5kOiBudW1iZXIpIHtcbiAgICByZXR1cm4gYmFuZCA+PSAwICYmIGJhbmQgPCB0aGlzLmJhbmRNdWx0aXBsaWVycy5sZW5ndGg7XG4gIH1cbn0iLCAiaW1wb3J0IHtcbiAgQ2hhbm5lbFByb2Nlc3NvcixcbiAgUmVhZEludENhbGxiYWNrLFxuICBXcml0ZUludENhbGxiYWNrIH0gZnJvbVxuJy4vQ2hhbm5lbFByb2Nlc3Nvcic7XG5pbXBvcnQgeyBFcXVhbGl6ZXJDb2VmZmljaWVudHMgfSBmcm9tICcuL0NvZWZmaWNpZW50cyc7XG5pbXBvcnQgeyBFcXVhbGl6ZXJDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9FcXVhbGl6ZXJDb25maWd1cmF0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsUHJvY2Vzc29ySW5wdXQge1xuICBkYXRhOiBCdWZmZXI7XG4gIHJlYWRJbnQ/OiBSZWFkSW50Q2FsbGJhY2s7XG4gIHdyaXRlSW50PzogV3JpdGVJbnRDYWxsYmFjaztcbiAgZXh0cmVtdW0/OiBudW1iZXI7XG4gIGJ5dGVzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRXF1YWxpemVyIGV4dGVuZHMgRXF1YWxpemVyQ29uZmlndXJhdGlvbiB7XG4gIHB1YmxpYyBzdGF0aWMgQkFORF9DT1VOVCA9IDE1IGFzIGNvbnN0O1xuICBwdWJsaWMgc3RhdGljIFNBTVBMRV9SQVRFID0gNDgwMDAgYXMgY29uc3Q7XG4gIHB1YmxpYyBzdGF0aWMgQ29lZmZpY2llbnRzNDgwMDAgPSBbXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS45ODQ3NTQ2NjY0ZS0xLCA3LjYyMjY2NjgxNDNlLTQsIDEuOTk4NDY0NzY1NiksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS45NzU2MTg0NjU0ZS0xLCAxLjIxOTA3NjcyODllLTMsIDEuOTk3NTM0NDY0NSksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS45NjE2MjYxMzc5ZS0xLCAxLjkxODY5MzEwNDFlLTMsIDEuOTk2MDk0NzM2OSksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS45MzkxNTc4NTQzZS0xLCAzLjA0MjEwNzI4NjVlLTMsIDEuOTkzNzQ0OTYxOCksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS45MDI4MzA3MjE1ZS0xLCA0Ljg1ODQ2MzkyNDJlLTMsIDEuOTg5ODQ2NTcwMiksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS44NDg1ODk3MjY0ZS0xLCA3LjU3MDUxMzY3OTVlLTMsIDEuOTgzNzk2MjU0MyksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS43NTg4NTEyNjU3ZS0xLCAxLjIwNTc0MzY3MTVlLTIsIDEuOTczMTc3MjQ0NyksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS42MjI4NTIxODE0ZS0xLCAxLjg4NTczOTA5MjhlLTIsIDEuOTU1NjE2NDY5NCksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS40MDgwOTMzMTMyZS0xLCAyLjk1OTUzMzQzMzhlLTIsIDEuOTI0MjA1NDM4NCksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOS4wNzAyMDU5MTk2ZS0xLCA0LjY0ODk3MDQwMjJlLTIsIDEuODY1MzQ3NjE2NiksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoOC41ODY4MDA0Mjg5ZS0xLCA3LjA2NTk5Nzg1NTNlLTIsIDEuNzYwMDQwMTMzNyksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoNy44NDA5NjEwNzg4ZS0xLCAxLjA3OTUxOTQ2MDZlLTEsIDEuNTQ1MDcyNTUyMiksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoNi44MzMyODYxMDAyZS0xLCAxLjU4MzM1Njk0OTllLTEsIDEuMTQyNjQ0NzE1NSksXG4gIG5ldyBFcXVhbGl6ZXJDb2VmZmljaWVudHMoXG4gICAgNS41MjY3NTE4MjI4ZS0xLFxuICAgIDIuMjM2NjI0MDg4NmUtMSxcbiAgICA0LjAxODYxOTA4MDNlLTFcbiAgKSxcbiAgbmV3IEVxdWFsaXplckNvZWZmaWNpZW50cyhcbiAgICA0LjE4MTE4ODg0NDdlLTEsXG4gICAgMi45MDk0MDU1Nzc3ZS0xLFxuICAgIC03LjA5MDU5NDQyMjNlLTFcbiAgKV07XG5cbiAgcHVibGljIGNoYW5uZWxzOiBDaGFubmVsUHJvY2Vzc29yW10gPSBbXTtcbiAgcHVibGljIGNoYW5uZWxDb3VudDogbnVtYmVyO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihjaGFubmVsQ291bnQ6IG51bWJlciwgYmFuZE11bHRpcGxpZXJzOiBudW1iZXJbXSkge1xuICAgIHN1cGVyKGJhbmRNdWx0aXBsaWVycyk7XG4gICAgdGhpcy5jaGFubmVsQ291bnQgPSBjaGFubmVsQ291bnQ7XG4gICAgdGhpcy5jaGFubmVscyA9IHRoaXMuY3JlYXRlQ2hhbm5lbFByb2Nlc3NvcigpO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUNoYW5uZWxQcm9jZXNzb3IoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IHRoaXMuY2hhbm5lbENvdW50IH0sICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgQ2hhbm5lbFByb2Nlc3Nvcih0aGlzLmJhbmRNdWx0aXBsaWVycyk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcHJvY2VzcyhpbnB1dDogQ2hhbm5lbFByb2Nlc3NvcklucHV0W10pIHtcbiAgICByZXR1cm4gdGhpcy5jaGFubmVscy5tYXAoKGMsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXh0cmVtdW0sIHJlYWRJbnQsIHdyaXRlSW50LCBieXRlcyB9ID0gaW5wdXRbaV07XG5cbiAgICAgIHJldHVybiBjLnByb2Nlc3MoZGF0YSwgZXh0cmVtdW0sIGJ5dGVzLCByZWFkSW50LCB3cml0ZUludCk7XG4gICAgfSk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVHJhbnNmb3JtQ2FsbGJhY2sgfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0IHsgUENNVHJhbnNmb3JtZXIsIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IEVxdWFsaXplciB9IGZyb20gJy4vRXF1YWxpemVyJztcblxuZXhwb3J0IGludGVyZmFjZSBFcXVhbGl6ZXJTdHJlYW1PcHRpb25zIGV4dGVuZHMgUENNVHJhbnNmb3JtZXJPcHRpb25zIHtcbiAgYmFuZE11bHRpcGxpZXI/OiBFcXVhbGl6ZXJCYW5kW107XG4gIGNoYW5uZWxzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVxdWFsaXplckJhbmQge1xuICBiYW5kOiBudW1iZXI7XG4gIGdhaW46IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEVxdWFsaXplclN0cmVhbSBleHRlbmRzIFBDTVRyYW5zZm9ybWVyIHtcbiAgcHVibGljIGJhbmRNdWx0aXBsaWVyczogbnVtYmVyW10gPSBuZXcgQXJyYXkoRXF1YWxpemVyLkJBTkRfQ09VTlQpLmZpbGwoMCk7XG4gIHB1YmxpYyBlcXVhbGl6ZXI6IEVxdWFsaXplcjtcbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBFcXVhbGl6ZXJTdHJlYW1PcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAge1xuICAgICAgICBiYW5kTXVsdGlwbGllcjogW10sXG4gICAgICAgIGNoYW5uZWxzOiAxXG4gICAgICB9LFxuICAgICAgb3B0aW9ucyB8fCB7fVxuICAgICk7XG5cbiAgICB0aGlzLmVxdWFsaXplciA9IG5ldyBFcXVhbGl6ZXIob3B0aW9ucy5jaGFubmVscyB8fCAxLCB0aGlzLmJhbmRNdWx0aXBsaWVycyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5iYW5kTXVsdGlwbGllcikpXG4gICAgdGhpcy5fcHJvY2Vzc0JhbmRzKG9wdGlvbnMuYmFuZE11bHRpcGxpZXIpO1xuICB9XG5cbiAgcHVibGljIF9wcm9jZXNzQmFuZHMobXVsdGlwbGllcjogRXF1YWxpemVyQmFuZFtdKSB7XG4gICAgZm9yIChjb25zdCBtdWwgb2YgbXVsdGlwbGllcikge1xuICAgICAgaWYgKG11bC5iYW5kID4gRXF1YWxpemVyLkJBTkRfQ09VTlQgLSAxIHx8IG11bC5iYW5kIDwgMClcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICBgQmFuZCB2YWx1ZSBvdXQgb2YgcmFuZ2UuIEV4cGVjdGVkID4wICYgPCR7XG4gICAgICAgIEVxdWFsaXplci5CQU5EX0NPVU5UIC0gMX0sIHJlY2VpdmVkIFwiJHtcbiAgICAgICAgbXVsLmJhbmR9XCJgXG4gICAgICApO1xuICAgICAgdGhpcy5lcXVhbGl6ZXIuc2V0R2FpbihtdWwuYmFuZCwgbXVsLmdhaW4pO1xuICAgIH1cblxuICAgIHRoaXMub25VcGRhdGU/LigpO1xuICB9XG5cbiAgcHVibGljIF90cmFuc2Zvcm0oXG4gIGNodW5rOiBCdWZmZXIsXG4gIGVuY29kaW5nOiBCdWZmZXJFbmNvZGluZyxcbiAgY2FsbGJhY2s6IFRyYW5zZm9ybUNhbGxiYWNrKVxuICA6IHZvaWQge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnB1c2goY2h1bmspO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lcXVhbGl6ZXIucHJvY2VzcyhbXG4gICAge1xuICAgICAgZGF0YTogY2h1bmssXG4gICAgICBleHRyZW11bTogdGhpcy5leHRyZW11bSxcbiAgICAgIHJlYWRJbnQ6IChiLCBpZHgpID0+IHRoaXMuX3JlYWRJbnQoYiwgaWR4KSxcbiAgICAgIHdyaXRlSW50OiAoYiwgaSwgaWR4KSA9PiB0aGlzLl93cml0ZUludChiLCBpLCBpZHgpLFxuICAgICAgYnl0ZXM6IHRoaXMuYnl0ZXNcbiAgICB9XVxuICAgICk7XG5cbiAgICB0aGlzLnB1c2goY2h1bmspO1xuXG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RVEoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFuZE11bHRpcGxpZXJzLm1hcCgobSwgaSkgPT4gKHtcbiAgICAgIGJhbmQ6IGksXG4gICAgICBnYWluOiBtXG4gICAgfSkpIGFzIEVxdWFsaXplckJhbmRbXTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRFUShiYW5kczogRXF1YWxpemVyQmFuZFtdKSB7XG4gICAgdGhpcy5fcHJvY2Vzc0JhbmRzKGJhbmRzKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldEVRKCkge1xuICAgIHRoaXMuX3Byb2Nlc3NCYW5kcyhcbiAgICAgIEFycmF5LmZyb20oXG4gICAgICAgIHtcbiAgICAgICAgICBsZW5ndGg6IEVxdWFsaXplci5CQU5EX0NPVU5UXG4gICAgICAgIH0sXG4gICAgICAgIChfLCBpKSA9PiAoe1xuICAgICAgICAgIGJhbmQ6IGksXG4gICAgICAgICAgZ2FpbjogMFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVHJhbnNmb3JtQ2FsbGJhY2sgfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0IHsgUENNVHJhbnNmb3JtZXIsIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuLypcbk1vbm86IFswLCAxLCAyLCAzLCA0LCA1XVxuU3RlcmVvOiBbMCwgMSwgMCwgMSwgMiwgMywgMiwgMywgNCwgNSwgNCwgNV1cbiovXG5cbmV4cG9ydCB0eXBlIE1TVFN0cmF0ZWd5ID0gJ20ycycgfCAnczJtJztcblxuZXhwb3J0IGludGVyZmFjZSBNb25vU3RlcmVvVHJhbnNmb3JtZXJPcHRpb25zIGV4dGVuZHMgUENNVHJhbnNmb3JtZXJPcHRpb25zIHtcbiAgc3RyYXRlZ3k6IE1TVFN0cmF0ZWd5O1xufVxuXG5leHBvcnQgY2xhc3MgTW9ub1N0ZXJlb1RyYW5zZm9ybWVyIGV4dGVuZHMgUENNVHJhbnNmb3JtZXIge1xuICBwdWJsaWMgc3RyYXRlZ3k6IE1TVFN0cmF0ZWd5O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zPzogTW9ub1N0ZXJlb1RyYW5zZm9ybWVyT3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIGlmICghWydtMnMnLCAnczJtJ10uaW5jbHVkZXMob3B0aW9ucz8uc3RyYXRlZ3kgYXMgTVNUU3RyYXRlZ3kpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBTdHJhdGVneSBtdXN0IGJlIFwibTJzXCIgb3IgXCJzMm1cImApO1xuICAgIH1cblxuICAgIHRoaXMuc3RyYXRlZ3kgPSBvcHRpb25zIS5zdHJhdGVneTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdHJhdGVneShzdHJhdGVneTogTVNUU3RyYXRlZ3kpIHtcbiAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gIH1cblxuICBwdWJsaWMgX3RyYW5zZm9ybShcbiAgY2h1bms6IEJ1ZmZlcixcbiAgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nLFxuICBjYWxsYmFjazogVHJhbnNmb3JtQ2FsbGJhY2spXG4gIDogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMucHVzaChjaHVuayk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBjb25zdCBsZW4gPSBNYXRoLmZsb29yKGNodW5rLmxlbmd0aCAvIDIpICogMjtcblxuICAgIGlmICh0aGlzLnN0cmF0ZWd5ID09PSAnbTJzJykge1xuICAgICAgdGhpcy5wdXNoKHRoaXMudG9TdGVyZW8oY2h1bmssIGxlbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2godGhpcy50b01vbm8oY2h1bmssIGxlbikpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIHRvU3RlcmVvKHNhbXBsZTogQnVmZmVyLCBsZW46IG51bWJlcikge1xuICAgIGNvbnN0IGJ5dGVzID0gdGhpcy5ieXRlcztcbiAgICBjb25zdCBzdGVyZW9CdWZmZXIgPSBCdWZmZXIuYWxsb2MobGVuICogMik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSBieXRlcykge1xuICAgICAgc3RlcmVvQnVmZmVyW2kgKiAyICsgMF0gPSBzYW1wbGVbaV07XG4gICAgICBzdGVyZW9CdWZmZXJbaSAqIDIgKyAxXSA9IHNhbXBsZVtpICsgMV07XG4gICAgICBzdGVyZW9CdWZmZXJbaSAqIDIgKyAyXSA9IHNhbXBsZVtpXTtcbiAgICAgIHN0ZXJlb0J1ZmZlcltpICogMiArIDNdID0gc2FtcGxlW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RlcmVvQnVmZmVyO1xuICB9XG5cbiAgcHVibGljIHRvTW9ubyhzYW1wbGU6IEJ1ZmZlciwgbGVuOiBudW1iZXIpIHtcbiAgICBjb25zdCBieXRlcyA9IHRoaXMuYnl0ZXM7XG4gICAgY29uc3QgbW9ub0J1ZmZlciA9IEJ1ZmZlci5hbGxvYyhNYXRoLmZsb29yKGxlbiAvIDIpKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IGJ5dGVzKSB7XG4gICAgICBtb25vQnVmZmVyW2ldID0gc2FtcGxlW2kgKiAyICsgMF07XG4gICAgICBtb25vQnVmZmVyW2kgKyAxXSA9IHNhbXBsZVtpICogMiArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiBtb25vQnVmZmVyO1xuICB9XG59IiwgImV4cG9ydCAqIGZyb20gJy4vYmlxdWFkJztcbmV4cG9ydCAqIGZyb20gJy4vZHNwJztcbmV4cG9ydCAqIGZyb20gJy4vZXF1YWxpemVyJzsiLCAiaW1wb3J0IHsgQmlxdWFkRmlsdGVyLCBCaXF1YWRGaWx0ZXJzLCBDb2VmZmljaWVudHMgfSBmcm9tICcuLi8uLi9iaXF1YWQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFGQmlxdWFkQ29uZmlnIHtcbiAgYmlxdWFkOiBCaXF1YWRGaWx0ZXI7XG4gIHNhbXBsZTogbnVtYmVyO1xuICBjdXRvZmY6IG51bWJlcjtcbiAgZ2FpbjogbnVtYmVyO1xuICBmaWx0ZXI6IEJpcXVhZEZpbHRlcnM7XG4gIGNvZWZmaWNpZW50OiBDb2VmZmljaWVudHM7XG4gIFE6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QmlxdWFkKGZpbHRlcmVyOiBCaXF1YWRGaWx0ZXIsIGludDogbnVtYmVyKSB7XG4gIHJldHVybiBmaWx0ZXJlci5ydW4oaW50KTtcbn0iLCAiZXhwb3J0IGludGVyZmFjZSBBRlB1bHNhdG9yQ29uZmlnIHtcbiAgaHo6IG51bWJlcjtcbiAgeDogbnVtYmVyO1xuICBkSTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFGVHJlbW9sb0NvbmZpZyB7XG4gIHBoYXNlOiBudW1iZXI7XG4gIGRlcHRoOiBudW1iZXI7XG4gIGZyZXF1ZW5jeTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBBRlZpYnJhdG9Db25maWcgPSBBRlRyZW1vbG9Db25maWc7XG5cbmV4cG9ydCB0eXBlIExSID0gMCB8IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVB1bHNhdG9yKFxuY29uZmlnOiBBRlB1bHNhdG9yQ29uZmlnLFxuaW50OiBudW1iZXIsXG5jaGFubmVsOiBMUilcbntcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4oY29uZmlnLngpO1xuICBjb25zdCBjdXJyZW50Q2hhbm5lbFZhbCA9IGNoYW5uZWwgPT09IDAgPyBzaW4gOiAtc2luO1xuICBjb25zdCByZXMgPSBpbnQgKiAoY3VycmVudENoYW5uZWxWYWwgKyAxLjApIC8gMi4wO1xuXG4gIGNvbmZpZy54ICs9IGNvbmZpZy5kSTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlUcmVtb2xvKFxuY29uZmlnOiBBRlRyZW1vbG9Db25maWcsXG5pbnQ6IG51bWJlcixcbnNhbXBsZVJhdGU6IG51bWJlcilcbntcbiAgY29uc3QgZk9mZnNldCA9IDEuMCAtIGNvbmZpZy5kZXB0aDtcbiAgY29uc3QgbW9kU2lnbmFsID0gZk9mZnNldCArIGNvbmZpZy5kZXB0aCAqIE1hdGguc2luKGNvbmZpZy5waGFzZSk7XG4gIGNvbmZpZy5waGFzZSArPSAyICogTWF0aC5QSSAvIHNhbXBsZVJhdGUgKiBjb25maWcuZnJlcXVlbmN5O1xuICByZXR1cm4gbW9kU2lnbmFsICogaW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlWaWJyYXRvKFxuY29uZmlnOiBBRlZpYnJhdG9Db25maWcsXG5pbnQ6IG51bWJlcixcbnNhbXBsZVJhdGU6IG51bWJlcilcbntcbiAgY29uc3QgZk9mZnNldCA9IDEuMCAtIGNvbmZpZy5kZXB0aDtcbiAgY29uc3QgbW9kU2lnbmFsID1cbiAgZk9mZnNldCArIGNvbmZpZy5kZXB0aCAqIE1hdGguc2luKDIgKiBNYXRoLlBJICogY29uZmlnLnBoYXNlKTtcbiAgY29uZmlnLnBoYXNlICs9IDIgKiBNYXRoLlBJIC8gc2FtcGxlUmF0ZSAqIGNvbmZpZy5mcmVxdWVuY3k7XG4gIHJldHVybiBtb2RTaWduYWwgKiBpbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVZvbHVtZSh2b2w6IG51bWJlciwgaW50OiBudW1iZXIpIHtcbiAgcmV0dXJuIHZvbCAqIGludDtcbn0iLCAiaW1wb3J0IHsgRXF1YWxpemVyIH0gZnJvbSAnLi4vLi4vZXF1YWxpemVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RXF1YWxpemF0aW9uKGVxOiBFcXVhbGl6ZXIsIGludDogbnVtYmVyKSB7XG4gIGNvbnN0IHByb2Nlc3NvciA9IGVxLmNoYW5uZWxzWzBdO1xuICBjb25zdCByZXN1bHQgPSBwcm9jZXNzb3IucHJvY2Vzc0ludChpbnQpO1xuICBwcm9jZXNzb3Iuc3RlcCgpO1xuICByZXR1cm4gcmVzdWx0O1xufSIsICJpbXBvcnQgeyBUcmFuc2Zvcm1DYWxsYmFjayB9IGZyb20gJ3N0cmVhbSc7XG5pbXBvcnQgeyBQQ01UcmFuc2Zvcm1lciwgUENNVHJhbnNmb3JtZXJPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgQUZQdWxzYXRvckNvbmZpZyxcbiAgQUZUcmVtb2xvQ29uZmlnLFxuICBBRlZpYnJhdG9Db25maWcsXG4gIExSLFxuICBhcHBseVB1bHNhdG9yLFxuICBhcHBseVRyZW1vbG8sXG4gIGFwcGx5VmlicmF0byB9IGZyb21cbicuL3RyYW5zZm9ybWVycyc7XG5pbXBvcnQgeyBFcXVhbGl6ZXJCYW5kIH0gZnJvbSAnLi4vZXF1YWxpemVyJztcblxuZXhwb3J0IGNvbnN0IEF1ZGlvRmlsdGVycyA9IHtcbiAgJzhEJzogJzhEJyxcbiAgVHJlbW9sbzogJ1RyZW1vbG8nLFxuICBWaWJyYXRvOiAnVmlicmF0bydcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFBDTUZpbHRlcnMgPSBrZXlvZiB0eXBlb2YgQXVkaW9GaWx0ZXJzO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBDTUZpbHRlcmVyT3B0aW9ucyBleHRlbmRzIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyB7XG4gIGZpbHRlcnM/OiBQQ01GaWx0ZXJzW107XG59XG5cbmV4cG9ydCBjb25zdCBBRl9OSUdIVENPUkVfUkFURSA9IDEuMyBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBBRl9WQVBPUldBVkVfUkFURSA9IDAuOCBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEJBU1NfRVFfQkFORFM6IEVxdWFsaXplckJhbmRbXSA9IEFycmF5LmZyb20oXG4gIHsgbGVuZ3RoOiAzIH0sXG4gIChfLCBpKSA9PiAoe1xuICAgIGJhbmQ6IGksXG4gICAgZ2FpbjogMC4yNVxuICB9KVxuKTtcblxuLy8gYmFzZWQgb24gbGF2YWRzcFxuZXhwb3J0IGNsYXNzIEF1ZGlvRmlsdGVyIGV4dGVuZHMgUENNVHJhbnNmb3JtZXIge1xuICBwdWJsaWMgZmlsdGVyczogUENNRmlsdGVyc1tdID0gW107XG4gIHB1YmxpYyB0YXJnZXRTYW1wbGVSYXRlID0gdGhpcy5zYW1wbGVSYXRlO1xuICBwdWJsaWMgdG90YWxTYW1wbGVzID0gMDtcbiAgcHJpdmF0ZSBfcHJvY2Vzc2VkU2FtcGxlcyA9IDA7XG5cbiAgcHVibGljIHB1bHNhdG9yQ29uZmlnOiBBRlB1bHNhdG9yQ29uZmlnID0ge1xuICAgIGh6OiAwLjAyLFxuICAgIHg6IDAsXG4gICAgZEk6IDAuMDAwMDAzOTI2OTkwODE2OTg3MjQxXG4gIH07XG5cbiAgcHVibGljIHRyZW1vbG9Db25maWc6IEFGVHJlbW9sb0NvbmZpZyA9IHtcbiAgICBwaGFzZTogMCxcbiAgICBkZXB0aDogMC41LFxuICAgIGZyZXF1ZW5jeTogNS4wXG4gIH07XG5cbiAgcHVibGljIHZpYnJhdG9Db25maWc6IEFGVmlicmF0b0NvbmZpZyA9IHtcbiAgICBwaGFzZTogMCxcbiAgICBkZXB0aDogMC41LFxuICAgIGZyZXF1ZW5jeTogNS4wXG4gIH07XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBQQ01GaWx0ZXJlck9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIGlmIChvcHRpb25zICYmIEFycmF5LmlzQXJyYXkob3B0aW9ucy5maWx0ZXJzKSkge1xuICAgICAgdGhpcy5zZXRGaWx0ZXJzKG9wdGlvbnMuZmlsdGVycyk7XG4gICAgfVxuXG4gICAgdGhpcy5vblVwZGF0ZT8uKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0VGFyZ2V0U2FtcGxlUmF0ZShyYXRlOiBudW1iZXIpIHtcbiAgICB0aGlzLnRhcmdldFNhbXBsZVJhdGUgPSByYXRlIHx8IHRoaXMuc2FtcGxlUmF0ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBwdWJsaWMgc2V0UHVsc2F0b3IoaHo6IG51bWJlcikge1xuICAgIGh6IC89IDQ7IC8vIG1hdGNoIGZmbXBlZ1xuICAgIHRoaXMucHVsc2F0b3JDb25maWcuaHogPSBoejtcbiAgICBjb25zdCBzYW1wbGVzUGVyQ3ljbGUgPSB0aGlzLnRhcmdldFNhbXBsZVJhdGUgLyAoaHogKiAyICogTWF0aC5QSSk7XG4gICAgdGhpcy5wdWxzYXRvckNvbmZpZy5kSSA9IGh6ID09PSAwID8gMCA6IDEgLyBzYW1wbGVzUGVyQ3ljbGU7XG5cbiAgICB0aGlzLm9uVXBkYXRlPy4oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcHVsc2F0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucHVsc2F0b3JDb25maWcuaHo7XG4gIH1cblxuICBwdWJsaWMgc2V0VHJlbW9sbyh7XG4gICAgZGVwdGggPSB0aGlzLnRyZW1vbG9Db25maWcuZGVwdGgsXG4gICAgZnJlcXVlbmN5ID0gdGhpcy50cmVtb2xvQ29uZmlnLmZyZXF1ZW5jeSxcbiAgICBwaGFzZSA9IHRoaXMudHJlbW9sb0NvbmZpZy5waGFzZVxuICB9OiBQYXJ0aWFsPEFGVHJlbW9sb0NvbmZpZz4pIHtcbiAgICBpZiAodHlwZW9mIGRlcHRoID09PSAnbnVtYmVyJykgdGhpcy50cmVtb2xvQ29uZmlnLmRlcHRoID0gZGVwdGg7XG4gICAgaWYgKHR5cGVvZiBmcmVxdWVuY3kgPT09ICdudW1iZXInKSB0aGlzLnRyZW1vbG9Db25maWcuZnJlcXVlbmN5ID0gZnJlcXVlbmN5O1xuICAgIGlmICh0eXBlb2YgcGhhc2UgPT09ICdudW1iZXInKSB0aGlzLnRyZW1vbG9Db25maWcucGhhc2UgPSBwaGFzZTtcblxuICAgIHRoaXMub25VcGRhdGU/LigpO1xuICB9XG5cbiAgcHVibGljIHNldFZpYnJhdG8oe1xuICAgIGRlcHRoID0gdGhpcy52aWJyYXRvQ29uZmlnLmRlcHRoLFxuICAgIGZyZXF1ZW5jeSA9IHRoaXMudmlicmF0b0NvbmZpZy5mcmVxdWVuY3ksXG4gICAgcGhhc2UgPSB0aGlzLnZpYnJhdG9Db25maWcucGhhc2VcbiAgfTogUGFydGlhbDxBRlZpYnJhdG9Db25maWc+KSB7XG4gICAgaWYgKHR5cGVvZiBkZXB0aCA9PT0gJ251bWJlcicpIHRoaXMudmlicmF0b0NvbmZpZy5kZXB0aCA9IGRlcHRoO1xuICAgIGlmICh0eXBlb2YgZnJlcXVlbmN5ID09PSAnbnVtYmVyJykgdGhpcy52aWJyYXRvQ29uZmlnLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcbiAgICBpZiAodHlwZW9mIHBoYXNlID09PSAnbnVtYmVyJykgdGhpcy52aWJyYXRvQ29uZmlnLnBoYXNlID0gcGhhc2U7XG5cbiAgICB0aGlzLm9uVXBkYXRlPy4oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdHJlbW9sbygpIHtcbiAgICByZXR1cm4gdGhpcy50cmVtb2xvQ29uZmlnO1xuICB9XG5cbiAgcHVibGljIHNldEZpbHRlcnMoZmlsdGVyczogUENNRmlsdGVyc1tdKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbHRlcnMpIHx8ICFmaWx0ZXJzLmV2ZXJ5KChyKSA9PiByIGluIEF1ZGlvRmlsdGVycykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuXG4gICAgdGhpcy5vblVwZGF0ZT8uKCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRPRE9cbiAgcHVibGljIHNlZWsoZHVyYXRpb246IG51bWJlcikge1xuICAgIC8vIGRldGVybWluZXMgdGhlIHNhbXBsZSB0byBzZWVrIHRvXG4gICAgLy8gdGhpcy5fc2Vla1BvcyA9IChkdXJhdGlvbiAvIDEwMDApICogdGhpcy50YXJnZXRTYW1wbGVSYXRlO1xuICAgIHZvaWQgZHVyYXRpb247XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgSW1wbGVtZW50ZWQnKTtcblxuICAgIC8vIHRoaXMgbWV0aG9kIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBhcyBvZiByaWdodCBub3dcbiAgICAvLyBTaW5jZSB3ZSBjYW4gb25seSBtb3ZlIGZvcndhcmQgaW4gdGhlIHN0cmVhbSxcbiAgICAvLyB3ZSB3b3VsZCBoYXZlIHRvIGJ1ZmZlciB0aGUgZW50aXJlIHN0cmVhbSBpbiBvcmRlciB0byBpbXBsZW1lbnQgYmFja3dhcmRzIHNlZWtcbiAgfVxuXG4gIHB1YmxpYyBfdHJhbnNmb3JtKFxuICBjaHVuazogQnVmZmVyLFxuICBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcsXG4gIGNhbGxiYWNrOiBUcmFuc2Zvcm1DYWxsYmFjaylcbiAgOiB2b2lkIHtcbiAgICB0aGlzLl9wcm9jZXNzZWRTYW1wbGVzKys7XG4gICAgdGhpcy50b3RhbFNhbXBsZXMgKz0gY2h1bmsubGVuZ3RoIC8gdGhpcy5iaXRzO1xuXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgIXRoaXMuZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBjaHVuayk7XG4gICAgfVxuXG4gICAgY29uc3QgbGVuID0gTWF0aC5mbG9vcihjaHVuay5sZW5ndGggLyAyKSAqIDI7XG4gICAgY29uc3QgeyBieXRlcyB9ID0gdGhpcztcblxuICAgIC8vIGxlZnQtcmlnaHQgY2hhbm5lbFxuICAgIGxldCBMID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSBieXRlcykge1xuICAgICAgY29uc3QgaW50ID0gdGhpcy5fcmVhZEludChjaHVuaywgaSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuYXBwbHlGaWx0ZXJzKGludCwgKyhMID0gIUwpIGFzIExSKTtcbiAgICAgIHRoaXMuX3dyaXRlSW50KGNodW5rLCB0aGlzLmNsYW1wKHZhbHVlKSwgaSk7XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoKGNodW5rKTtcblxuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIGdldCBjdXJyZW50U2FtcGxlUmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRTYW1wbGVSYXRlIHx8IHRoaXMuc2FtcGxlUmF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZXN0aW1hdGVkRHVyYXRpb24oKSB7XG4gICAgLy8gdGhpcyB3b250IGJlIGFjY3VyYXRlIChmb3IgZXhhbXBsZSwgbGl2ZXN0cmVhbSksIGJ1dCBjYW4gYmUgdXNlZCBhcyBhIGZhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMudG90YWxTYW1wbGVzIC8gdGhpcy50YXJnZXRTYW1wbGVSYXRlICogMTAwMDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY3VycmVudER1cmF0aW9uKCkge1xuICAgIC8vIHRoaXMgbWF5IG5vdCBiZSBhY2N1cmF0ZVxuICAgIHJldHVybiB0aGlzLl9wcm9jZXNzZWRTYW1wbGVzICogMTAwMCAvIHRoaXMudGFyZ2V0U2FtcGxlUmF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBhcHBseUZpbHRlcnMoYnl0ZTogbnVtYmVyLCBjaGFubmVsOiBMUikge1xuICAgIGlmICh0aGlzLmZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGZpbHRlciBvZiB0aGlzLmZpbHRlcnMpIHtcbiAgICAgICAgaWYgKGZpbHRlciA9PT0gJzhEJykge1xuICAgICAgICAgIGJ5dGUgPSBhcHBseVB1bHNhdG9yKHRoaXMucHVsc2F0b3JDb25maWcsIGJ5dGUsIGNoYW5uZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciA9PT0gJ1RyZW1vbG8nKSB7XG4gICAgICAgICAgYnl0ZSA9IGFwcGx5VHJlbW9sbyh0aGlzLnRyZW1vbG9Db25maWcsIGJ5dGUsIHRoaXMuY3VycmVudFNhbXBsZVJhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciA9PT0gJ1ZpYnJhdG8nKSB7XG4gICAgICAgICAgYnl0ZSA9IGFwcGx5VmlicmF0byh0aGlzLnZpYnJhdG9Db25maWcsIGJ5dGUsIHRoaXMuY3VycmVudFNhbXBsZVJhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ5dGU7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVHJhbnNmb3JtQ2FsbGJhY2sgfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0IHsgUENNVHJhbnNmb3JtZXIsIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBQQ01SZXNhbXBsZXJPcHRpb25zIGV4dGVuZHMgUENNVHJhbnNmb3JtZXJPcHRpb25zIHtcbiAgdGFyZ2V0U2FtcGxlUmF0ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFBDTVJlc2FtcGxlciBleHRlbmRzIFBDTVRyYW5zZm9ybWVyIHtcbiAgcHVibGljIHRhcmdldFNhbXBsZVJhdGUgPSB0aGlzLnNhbXBsZVJhdGU7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBQQ01SZXNhbXBsZXJPcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnM/LnRhcmdldFNhbXBsZVJhdGUpXG4gICAgdGhpcy50YXJnZXRTYW1wbGVSYXRlID0gb3B0aW9ucy50YXJnZXRTYW1wbGVSYXRlO1xuICB9XG5cbiAgcHVibGljIGdldCBBRl9OSUdIVENPUkUoKSB7XG4gICAgcmV0dXJuIDY0MDAwO1xuICB9XG5cbiAgcHVibGljIGdldCBBRl9WQVBPUldBVkUoKSB7XG4gICAgcmV0dXJuIDMyMDAwO1xuICB9XG5cbiAgcHVibGljIHNldFRhcmdldFNhbXBsZVJhdGUocmF0ZTogbnVtYmVyIHwgJ05JR0hUQ09SRScgfCAnVkFQT1JXQVZFJykge1xuICAgIGlmIChyYXRlID09PSAnTklHSFRDT1JFJyB8fCByYXRlID09PSAnVkFQT1JXQVZFJykgcmF0ZSA9IHRoaXNbYEFGXyR7cmF0ZX1gXTtcbiAgICBpZiAodHlwZW9mIHJhdGUgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy50YXJnZXRTYW1wbGVSYXRlID0gcmF0ZTtcbiAgICB0aGlzLm9uVXBkYXRlPy4oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRPRE86IGVuYWJsZSB0aGlzXG4gIF90cmFuc2Zvcm0oY2h1bms6IEJ1ZmZlciwgXzogQnVmZmVyRW5jb2RpbmcsIGNiOiBUcmFuc2Zvcm1DYWxsYmFjayk6IHZvaWQge1xuICAgIC8vIGFjdCBsaWtlIHBhc3MtdGhyb3VnaCBpZiB0aGlzIHRyYW5zZm9ybWVyIGlzIGRpc2FibGVkIG9yIHNvdXJjZSBzYW1wbGUgcmF0ZSBpcyBlcXVhbCB0byB0YXJnZXQgc2FtcGxlIHJhdGVcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnNhbXBsZVJhdGUgPT09IHRoaXMudGFyZ2V0U2FtcGxlUmF0ZSkge1xuICAgICAgdGhpcy5wdXNoKGNodW5rKTtcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIC8vIGNvbnN0IHNhbXBsZXMgPSByZXNhbXBsZVBDTShjaHVuaywge1xuICAgIC8vICAgICBiaXRzOiB0aGlzLmJpdHMsXG4gICAgLy8gICAgIHJlYWRJbnQ6IHRoaXMuX3JlYWRJbnQuYmluZCh0aGlzKSxcbiAgICAvLyAgICAgd3JpdGVJbnQ6IHRoaXMuX3dyaXRlSW50LmJpbmQodGhpcyksXG4gICAgLy8gICAgIHNvdXJjZVNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZSxcbiAgICAvLyAgICAgdGFyZ2V0U2FtcGxlUmF0ZTogdGhpcy50YXJnZXRTYW1wbGVSYXRlXG4gICAgLy8gfSk7XG5cbiAgICAvLyB0aGlzLnB1c2goc2FtcGxlcyk7XG5cbiAgICB0aGlzLnB1c2goY2h1bmspO1xuICAgIGNiKCk7XG4gIH1cbn0iLCAiaW1wb3J0IHsgVHJhbnNmb3JtQ2FsbGJhY2sgfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0IHsgUENNVHJhbnNmb3JtZXIsIFBDTVRyYW5zZm9ybWVyT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBWb2x1bWVUcmFuc2Zvcm1lck9wdGlvbnMgZXh0ZW5kcyBQQ01UcmFuc2Zvcm1lck9wdGlvbnMge1xuICB2b2x1bWU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBWb2x1bWVUcmFuc2Zvcm1lciBleHRlbmRzIFBDTVRyYW5zZm9ybWVyIHtcbiAgcHJpdmF0ZSBfdm9sdW1lID0gMTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBWb2x1bWVUcmFuc2Zvcm1lck9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8udm9sdW1lID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5zZXRWb2x1bWUob3B0aW9ucy52b2x1bWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXQgdm9sdW1lQXBwcm94KCkge1xuICAgIHJldHVybiB0aGlzLl92b2x1bWUgKiAxMDA7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZvbHVtZSgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZvbHVtZUFwcHJveCk7XG4gIH1cblxuICBwdWJsaWMgc2V0IHZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIHRoaXMuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICBwdWJsaWMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgaWYgKHR5cGVvZiB2b2x1bWUgIT09ICdudW1iZXInIHx8IGlzTmFOKHZvbHVtZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEV4cGVjdGVkIHZvbHVtZSBhbW91bnQgdG8gYmUgYSBudW1iZXIsIHJlY2VpdmVkICR7dHlwZW9mIHZvbHVtZX0hYFxuICAgICk7XG4gICAgaWYgKHZvbHVtZSA8IDApIHZvbHVtZSA9IDA7XG4gICAgaWYgKCFpc0Zpbml0ZSh2b2x1bWUpKSB2b2x1bWUgPSAxMDA7XG5cbiAgICB0aGlzLl92b2x1bWUgPSB2b2x1bWUgLyAxMDA7XG5cbiAgICB0aGlzLm9uVXBkYXRlPy4oKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHVibGljIF90cmFuc2Zvcm0oXG4gIGNodW5rOiBCdWZmZXIsXG4gIGVuY29kaW5nOiBCdWZmZXJFbmNvZGluZyxcbiAgY2FsbGJhY2s6IFRyYW5zZm9ybUNhbGxiYWNrKVxuICA6IHZvaWQge1xuICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMuX3ZvbHVtZSA9PT0gMSkge1xuICAgICAgdGhpcy5wdXNoKGNodW5rKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGxlbiA9IE1hdGguZmxvb3IoY2h1bmsubGVuZ3RoIC8gMikgKiAyO1xuICAgIGNvbnN0IHsgYnl0ZXMgfSA9IHRoaXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSBieXRlcykge1xuICAgICAgY29uc3QgaW50ID0gdGhpcy5fcmVhZEludChjaHVuaywgaSk7XG4gICAgICBjb25zdCBhbXAgPSB0aGlzLmNsYW1wKGludCAqIHRoaXMuX3ZvbHVtZSk7XG4gICAgICB0aGlzLl93cml0ZUludChjaHVuaywgYW1wLCBpKTtcbiAgICB9XG5cbiAgICB0aGlzLnB1c2goY2h1bmspO1xuXG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMudm9sdW1lfSVgO1xuICB9XG59IiwgImltcG9ydCB7IHR5cGUgUmVhZGFibGUsIHBpcGVsaW5lIH0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCB7IEVxdWFsaXplclN0cmVhbSwgRXF1YWxpemVyU3RyZWFtT3B0aW9ucyB9IGZyb20gJy4vZXF1YWxpemVyJztcbmltcG9ydCB7XG4gIEF1ZGlvRmlsdGVyLFxuICBQQ01GaWx0ZXJlck9wdGlvbnMsXG4gIFBDTVJlc2FtcGxlcixcbiAgUENNUmVzYW1wbGVyT3B0aW9ucyB9IGZyb21cbicuL2F1ZGlvJztcbmltcG9ydCB7IEJpcXVhZFN0cmVhbSwgQmlxdWFkU3RyZWFtT3B0aW9ucyB9IGZyb20gJy4vYmlxdWFkJztcbmltcG9ydCB7XG4gIFZvbHVtZVRyYW5zZm9ybWVyLFxuICBWb2x1bWVUcmFuc2Zvcm1lck9wdGlvbnMgfSBmcm9tXG4nLi9hdWRpby9Wb2x1bWVUcmFuc2Zvcm1lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRFNQRmlsdGVyc1ByZXNldCB7XG4gIGVxdWFsaXplcj86IEVxdWFsaXplclN0cmVhbU9wdGlvbnM7XG4gIGRzcD86IFBDTUZpbHRlcmVyT3B0aW9ucztcbiAgYmlxdWFkPzogQmlxdWFkU3RyZWFtT3B0aW9ucztcbiAgdm9sdW1lPzogVm9sdW1lVHJhbnNmb3JtZXJPcHRpb25zO1xuICByZXNhbXBsZXI/OiBQQ01SZXNhbXBsZXJPcHRpb25zO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyc0NoYWluIHtcbiAgcHVibGljIGVxdWFsaXplcjogRXF1YWxpemVyU3RyZWFtIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBmaWx0ZXJzOiBBdWRpb0ZpbHRlciB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgYmlxdWFkOiBCaXF1YWRTdHJlYW0gfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHZvbHVtZTogVm9sdW1lVHJhbnNmb3JtZXIgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHJlc2FtcGxlcjogUENNUmVzYW1wbGVyIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBkZXN0aW5hdGlvbjogUmVhZGFibGUgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHNvdXJjZTogUmVhZGFibGUgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIG9uVXBkYXRlOiAoKSA9PiB1bmtub3duID0gKCkgPT4gbnVsbDtcbiAgcHVibGljIG9uRXJyb3I6IChlcnI6IEVycm9yKSA9PiB1bmtub3duID0gKCkgPT4gbnVsbDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHByZXNldHM6IERTUEZpbHRlcnNQcmVzZXQgPSB7fSkge31cblxuICBwdWJsaWMgY3JlYXRlKHNyYzogUmVhZGFibGUsIHByZXNldHM6IERTUEZpbHRlcnNQcmVzZXQgPSB0aGlzLnByZXNldHMpIHtcbiAgICB0aGlzLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuc291cmNlID0gc3JjO1xuXG4gICAgLy8gY29uc3QgcmVzYW1wbGVyID0gbmV3IFBDTVJlc2FtcGxlcihwcmVzZXRzLnJlc2FtcGxlcik7XG4gICAgY29uc3QgZXF1YWxpemVyU3RyZWFtID0gIXByZXNldHMuZXF1YWxpemVyPy5kaXNhYmxlZCA/XG4gICAgbmV3IEVxdWFsaXplclN0cmVhbShwcmVzZXRzLmVxdWFsaXplcikgOlxuICAgIG51bGw7XG4gICAgY29uc3QgZHNwU3RyZWFtID0gIXByZXNldHMuZHNwPy5kaXNhYmxlZCA/XG4gICAgbmV3IEF1ZGlvRmlsdGVyKHByZXNldHMuZHNwKSA6XG4gICAgbnVsbDtcbiAgICBjb25zdCBiaXF1YWRTdHJlYW0gPSAhcHJlc2V0cy5iaXF1YWQ/LmRpc2FibGVkID9cbiAgICBuZXcgQmlxdWFkU3RyZWFtKHByZXNldHMuYmlxdWFkKSA6XG4gICAgbnVsbDtcbiAgICBjb25zdCB2b2x1bWVUcmFuc2Zvcm1lciA9ICFwcmVzZXRzLnZvbHVtZT8uZGlzYWJsZWQgP1xuICAgIG5ldyBWb2x1bWVUcmFuc2Zvcm1lcihwcmVzZXRzLnZvbHVtZSkgOlxuICAgIG51bGw7XG5cbiAgICAvLyB0aGlzLnJlc2FtcGxlciA9IHJlc2FtcGxlcjtcbiAgICB0aGlzLmVxdWFsaXplciA9IGVxdWFsaXplclN0cmVhbTtcbiAgICB0aGlzLmZpbHRlcnMgPSBkc3BTdHJlYW07XG4gICAgdGhpcy5iaXF1YWQgPSBiaXF1YWRTdHJlYW07XG4gICAgdGhpcy52b2x1bWUgPSB2b2x1bWVUcmFuc2Zvcm1lcjtcblxuICAgIC8vIHVwZGF0ZSBsaXN0ZW5lcnNcbiAgICAvLyByZXNhbXBsZXIub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlO1xuICAgIGlmIChlcXVhbGl6ZXJTdHJlYW0pIGVxdWFsaXplclN0cmVhbS5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGU7XG4gICAgaWYgKGRzcFN0cmVhbSkgZHNwU3RyZWFtLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZTtcbiAgICBpZiAoYmlxdWFkU3RyZWFtKSBiaXF1YWRTdHJlYW0ub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlO1xuICAgIGlmICh2b2x1bWVUcmFuc2Zvcm1lcikgdm9sdW1lVHJhbnNmb3JtZXIub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlO1xuXG4gICAgY29uc3QgY2hhaW5zID0gW1xuICAgIHNyYyxcbiAgICBlcXVhbGl6ZXJTdHJlYW0sXG4gICAgZHNwU3RyZWFtLFxuICAgIGJpcXVhZFN0cmVhbSxcbiAgICB2b2x1bWVUcmFuc2Zvcm1lcl0uXG4gICAgZmlsdGVyKEJvb2xlYW4pIGFzIFJlYWRvbmx5PFJlYWRhYmxlW10+O1xuXG4gICAgaWYgKCFjaGFpbnMubGVuZ3RoKSByZXR1cm4gc3JjO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZGVzdGluYXRpb24gPSBwaXBlbGluZSguLi5jaGFpbnMsIChlcnI6IEVycm9yIHwgbnVsbCkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKCFlcnIubWVzc2FnZS5pbmNsdWRlcygnRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UnKSlcbiAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmRlc3RpbmF0aW9uIS5vbmNlKCdjbG9zZScsIHRoaXMuZGVzdHJveS5iaW5kKHRoaXMpKTtcblxuICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uIGFzIFJlYWRhYmxlO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgLy8gY2xlYW51cFxuICAgIC8vIHRoaXMucmVzYW1wbGVyPy5kZXN0cm95KCk7XG4gICAgdGhpcy5lcXVhbGl6ZXI/LmRlc3Ryb3koKTtcbiAgICB0aGlzLmJpcXVhZD8uZGVzdHJveSgpO1xuICAgIHRoaXMuZmlsdGVycz8uZGVzdHJveSgpO1xuICAgIHRoaXMudm9sdW1lPy5kZXN0cm95KCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbj8uZGVzdHJveSgpO1xuICAgIHRoaXMuc291cmNlPy5kZXN0cm95KCk7XG5cbiAgICAvLyByZW1vdmUgZXZlbnRzXG4gICAgLy8gdGhpcy5yZXNhbXBsZXI/LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuZXF1YWxpemVyPy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmJpcXVhZD8ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5maWx0ZXJzPy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnZvbHVtZT8ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbj8ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5zb3VyY2U/LnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgLy8gdW5yZWZcbiAgICAvLyB0aGlzLnJlc2FtcGxlciA9IG51bGw7XG4gICAgdGhpcy5lcXVhbGl6ZXIgPSBudWxsO1xuICAgIHRoaXMuYmlxdWFkID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgIHRoaXMudm9sdW1lID0gbnVsbDtcbiAgICB0aGlzLmRlc3RpbmF0aW9uID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gIH1cbn0iLCAiXG5cblxuXG5cblxuZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAvKiBAX19NQUNST19fIGdldFZlcnNpb24gKi9cIjcuMS4wXCI7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ0FPLElBQU0sYUFBYTtBQUFBLEVBQ3hCLHlCQUF5QjtBQUFBLEVBQ3pCLG1CQUFtQjtBQUFBLEVBQ25CLFNBQVM7QUFBQSxFQUNULFVBQVU7QUFBQSxFQUNWLFVBQVU7QUFBQSxFQUNWLE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULFVBQVU7QUFBQSxFQUNWLFdBQVc7QUFBQSxFQUNYLFdBQVc7QUFDYjtBQWNPLElBQU0sZ0JBQWdCLEtBQUs7QUFFM0IsSUFBTSxnQkFBTixNQUFNLGNBQWE7QUFBQSxFQVVqQixZQUFZLE1BQXlCO0FBUjVDO0FBQUEsd0JBQU8sTUFBSztBQUNaLHdCQUFPLE1BQUs7QUFHWjtBQUFBLHdCQUFPLE1BQUs7QUFDWix3QkFBTyxNQUFLO0FBQ1osd0JBQU8sTUFBSztBQUdWLFFBQUksTUFBTTtBQUNSLFdBQUssS0FBSyxLQUFLO0FBQ2YsV0FBSyxLQUFLLEtBQUs7QUFDZixXQUFLLEtBQUssS0FBSztBQUNmLFdBQUssS0FBSyxLQUFLO0FBQ2YsV0FBSyxLQUFLLEtBQUs7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQSxFQUVB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